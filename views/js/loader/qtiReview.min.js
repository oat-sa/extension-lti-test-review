function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}define("tpl!taoReview/review/plugins/navigation/next-prev-review/next-prev-review",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",escapeExpression=this.escapeExpression,self=this;return buffer+="<div data-control=\"",(helper=helpers.control)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.control,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\" class=\"next-prev-review\">\n\t<button data-control=\""+escapeExpression((stack1=(stack1=depth0&&depth0.prev,null==stack1||!1===stack1?stack1:stack1.control),"function"===_typeof(stack1)?stack1.apply(depth0):stack1))+"\" class=\"small btn-info btn-group action review-prev\">\n\t\t<span class=\"icon icon-"+escapeExpression((stack1=(stack1=depth0&&depth0.prev,null==stack1||!1===stack1?stack1:stack1.icon),"function"===_typeof(stack1)?stack1.apply(depth0):stack1))+" no-label btn__content\" tabindex=\"-1\"></span>\n\t</button>\n\t<button data-control=\""+escapeExpression((stack1=(stack1=depth0&&depth0.next,null==stack1||!1===stack1?stack1:stack1.control),"function"===_typeof(stack1)?stack1.apply(depth0):stack1))+"\" class=\"small btn-info btn-group action review-next\">\n\t\t<div class=\"btn__content\" tabindex=\"-1\">\n\t\t\t"+escapeExpression((stack1=(stack1=depth0&&depth0.next,null==stack1||!1===stack1?stack1:stack1.text),"function"===_typeof(stack1)?stack1.apply(depth0):stack1))+"\n\t\t\t<span class=\"icon icon-"+escapeExpression((stack1=(stack1=depth0&&depth0.next,null==stack1||!1===stack1?stack1:stack1.icon),"function"===_typeof(stack1)?stack1.apply(depth0):stack1)),stack1=helpers.unless.call(depth0,(stack1=depth0&&depth0.prev,null==stack1||!1===stack1?stack1:stack1.text),{hash:{},inverse:self.noop,fn:self.program(1,function(){return" no-label"},data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\"></span>\n\t\t</div>\n\t</button>\n</li>",buffer})}),define("css!taoReview/review/plugins/navigation/next-prev-review/css/next-prev-review",[],function(){}),define("taoReview/review/plugins/navigation/next-prev-review/next-prev-review",["jquery","lodash","i18n","ui/hider","taoTests/runner/plugin","taoQtiTest/runner/helpers/map","taoQtiTest/runner/helpers/navigation","util/shortcut","util/namespace","tpl!taoReview/review/plugins/navigation/next-prev-review/next-prev-review","css!taoReview/review/plugins/navigation/next-prev-review/css/next-prev-review"],function($,_,__,hider,pluginFactory,mapHelper,navigationHelper,shortcut,namespaceHelper,buttonTpl){'use strict';var buttonData={control:"next-prev-review",next:{title:__("Go to the next item"),icon:"right",text:__("Next")},prev:{title:__("Go to the previous item"),icon:"left"}},createElement=function(){return $(buttonTpl(buttonData))};return pluginFactory({name:"next-prev-review",init:function(){var _this=this,testRunner=this.getTestRunner(),testData=testRunner.getTestData(),testConfig=testData.config||{},pluginShortcuts=(testConfig.shortcuts||{})[this.getName()]||{},canDoNext=function(){var testMap=testRunner.getTestMap(),context=testRunner.getTestContext();return!(_.isPlainObject(testMap)&&0===_.size(testMap))&&!navigationHelper.isLast(testMap,context.itemIdentifier)},canDoPrevious=function(){var previousSection,previousPart,testMap=testRunner.getTestMap(),context=testRunner.getTestContext();if(_.isPlainObject(testMap)&&0===_.size(testMap))return!1;if(navigationHelper.isFirst(testMap,context.itemIdentifier))return!1;if(navigationHelper.isFirstOf(testMap,context.itemIdentifier,"section")){if(context.isCatAdaptive)return!1;if(previousSection=mapHelper.getItemSection(testMap,context.itemPosition-1),previousSection.isCatAdaptive||previousSection.timeConstraint&&!context.options.noExitTimedSectionWarning)return!1}return!(navigationHelper.isFirstOf(testMap,context.itemIdentifier,"part")&&(previousPart=mapHelper.getItemPart(testMap,context.itemPosition-1),previousPart.isLinear))&&!1===context.isLinear&&!0===context.canMoveBackward},doNext=function(){!1!==_this.getState("enabled")&&canDoNext()&&(testRunner.trigger("disablenav"),testRunner.next())},doPrevious=function(){!1!==_this.getState("enabled")&&canDoPrevious()&&(testRunner.trigger("disablenav"),testRunner.previous())},enableButton=function(button){button.removeProp("disabled").removeClass("disabled")},disableButton=function(button){button.prop("disabled",!0).addClass("disabled")};this.$element=createElement(),this.$next=$(".review-next",this.$element),this.$prev=$(".review-prev",this.$element),this.$next.on("click",function(e){e.preventDefault(),testRunner.trigger("nav-next")}),this.$prev.on("click",function(e){e.preventDefault(),testRunner.trigger("nav-prev")}),testConfig.allowShortcuts&&_.forIn(pluginShortcuts,function(value,key){shortcut.add(namespaceHelper.namespaceAll(value,_this.getName(),!0),function(){testRunner.trigger("nav-".concat(key),!0)},{avoidInput:!0,prevent:!0})}),this.disable(),testRunner.on("loaditem",function toggle(){canDoPrevious()?enableButton(_this.$prev):disableButton(_this.$prev),canDoNext()?enableButton(_this.$next):disableButton(_this.$next)}).on("enablenav",function(){_this.enable()}).on("disablenav",function(){_this.disable()}).on("hidenav",function(){_this.hide()}).on("shownav",function(){_this.show()}).on("nav-next",function(){doNext()}).on("nav-prev",function(){doPrevious()})},render:function render(){var $container=this.getAreaBroker().getPanelArea();$container.append(this.$element)},destroy:function destroy(){shortcut.remove(".".concat(this.getName())),this.$element.remove()},enable:function enable(){this.$element.removeProp("disabled").removeClass("disabled")},disable:function disable(){this.$element.prop("disabled",!0).addClass("disabled")},show:function show(){hider.show(this.$element)},hide:function hide(){hider.hide(this.$element)}})}),define("css!taoReview/review/provider/item/css/item",[],function(){}),define("taoReview/review/provider/item/item",["taoQtiTestPreviewer/previewer/provider/item/item","css!taoReview/review/provider/item/css/item","css!taoQtiTestPreviewer/previewer/provider/item/css/item"],function(qtiItemPreviewer){'use strict';var qtiItemReviewer=qtiItemPreviewer;return qtiItemReviewer.name="qtiItemReview",qtiItemReviewer}),define("taoReview/review/proxy/item",["taoQtiTestPreviewer/previewer/proxy/item"],function(qtiItemPreviewerProxy){'use strict';var qtiItemReviewProxy=qtiItemPreviewerProxy;return qtiItemReviewProxy.name="qtiItemReviewProxy",qtiItemReviewProxy}),define("tpl!taoReview/review/runner",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},"<div class=\"previewer-component\"></div>"})}),define("json!taoReview/review/map.json",function(){return{scope:"test",parts:{Introduction:{id:"Introduction",label:"Introduction",position:0,isLinear:!1,sections:{"assessmentSection-1":{id:"assessmentSection-1",label:"Section 1",isCatAdaptive:!1,position:0,items:{"item-1":{id:"item-1",label:"Example_0_Introduction",position:0,occurrence:0,remainingAttempts:0,answered:!1,flagged:!1,viewed:!0,categories:[],informational:!0}},stats:{questions:0,answered:0,flagged:0,viewed:1,total:1,questionsViewed:0}}},stats:{questions:0,answered:0,flagged:0,viewed:1,total:1,questionsViewed:0}},QTIExamples:{id:"QTIExamples",label:"QTIExamples",position:1,isLinear:!0,sections:{"assessmentSection-2":{id:"assessmentSection-2",label:"Section 1",isCatAdaptive:!1,position:1,items:{"item-2":{id:"item-2",label:"example_1_TAO",position:1,occurrence:0,remainingAttempts:1,answered:!1,flagged:!1,viewed:!1,categories:[],informational:!1},"item-3":{id:"item-3",label:"example_2_Math",position:2,occurrence:0,remainingAttempts:1,answered:!1,flagged:!1,viewed:!1,categories:[],informational:!1},"item-4":{id:"item-4",label:"Example_3_Baudelaire",position:3,occurrence:0,remainingAttempts:1,answered:!1,flagged:!1,viewed:!1,categories:[],informational:!1},"item-5":{id:"item-5",label:"Example_4_Appearance",position:4,occurrence:0,remainingAttempts:1,answered:!1,flagged:!1,viewed:!1,categories:[],informational:!1},"item-6":{id:"item-6",label:"Example_5_picasso",position:5,occurrence:0,remainingAttempts:1,answered:!1,flagged:!1,viewed:!1,categories:[],informational:!1},"item-7":{id:"item-7",label:"Example_6_Geography",position:6,occurrence:0,remainingAttempts:1,answered:!1,flagged:!1,viewed:!1,categories:[],informational:!1},"item-8":{id:"item-8",label:"Example_7_Geo 2",position:7,occurrence:0,remainingAttempts:1,answered:!1,flagged:!1,viewed:!1,categories:[],informational:!1},"item-9":{id:"item-9",label:"Example_8_Geo 3",position:8,occurrence:0,remainingAttempts:1,answered:!1,flagged:!1,viewed:!1,categories:[],informational:!1}},stats:{questions:8,answered:0,flagged:0,viewed:0,total:8,questionsViewed:0}}},stats:{questions:8,answered:0,flagged:0,viewed:0,total:8,questionsViewed:0}}},stats:{questions:8,answered:0,flagged:0,viewed:1,total:9,questionsViewed:0},jumps:[{identifier:"item-1",section:"assessmentSection-1",part:"Introduction",position:0},{identifier:"item-2",section:"assessmentSection-2",part:"QTIExamples",position:1},{identifier:"item-3",section:"assessmentSection-2",part:"QTIExamples",position:2},{identifier:"item-4",section:"assessmentSection-2",part:"QTIExamples",position:3},{identifier:"item-5",section:"assessmentSection-2",part:"QTIExamples",position:4},{identifier:"item-6",section:"assessmentSection-2",part:"QTIExamples",position:5},{identifier:"item-7",section:"assessmentSection-2",part:"QTIExamples",position:6},{identifier:"item-8",section:"assessmentSection-2",part:"QTIExamples",position:7},{identifier:"item-9",section:"assessmentSection-2",part:"QTIExamples",position:8}]}}),define("taoReview/review/runner",["lodash","ui/feedback","taoTests/runner/runnerComponent","tpl!taoReview/review/runner","json!taoReview/review/map.json"],function(_,feedback,runnerComponentFactory,runnerTpl,testmap){'use strict';return function(container){var config=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},template=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,testRunnerConfig={testDefinition:"test-container",serviceCallId:"previewer",proxyProvider:"qtiItemReviewProxy",providers:{runner:{id:"qtiItemReview",module:"taoReview/review/provider/item/item",bundle:"taoReview/loader/qtiReview.min",category:"runner"},proxy:{id:"qtiItemReviewProxy",module:"taoReview/review/proxy/item",bundle:"taoReview/loader/qtiReview.min",category:"proxy"},communicator:{id:"request",module:"core/communicator/request",bundle:"loader/vendor.min",category:"communicator"},plugins:[{module:"taoReview/review/plugins/navigation/next-prev-review/next-prev-review",bundle:"taoReview/loader/qtiReview.min",category:"navigation"}]},options:{readOnly:config.readOnly,fullPage:config.fullPage}},testData={config:{allowShortcuts:!0,shortcuts:{"next-prev-review":{next:"arrowright",prev:"arrowleft"}}}},items=[{itemDefinition:"item-1",state:null},{itemDefinition:"item-2",state:{RESPONSE:{response:{base:{integer:0}}},RESPONSE_1:{response:{list:{identifier:["choice_3","choice_4","choice_5"]}}},RESPONSE_3:{response:{base:{integer:327e3}}}}},{itemDefinition:"item-3",state:{RESPONSE:{response:{list:{identifier:["choice_2"]}}},RESPONSE_1:{response:{list:{pair:[["choice_5","choice_6"],["choice_4","choice_7"]]}}}}}],testContex={itemIdentifier:"item-1",itemPosition:0,isLinear:!1,canMoveBackward:!0};return runnerComponentFactory(container,testRunnerConfig,template||runnerTpl).on("render",function(){var _this$getConfig$optio=this.getConfig().options,fullPage=_this$getConfig$optio.fullPage,readOnly=_this$getConfig$optio.readOnly;this.setState("fullpage",fullPage),this.setState("readonly",readOnly);var runner=this.getRunner();runner.setTestMap(testmap),runner.setTestContext(testContex),runner.setTestData(testData)}).on("ready",function(runner){var _this2=this;runner.on("renderitem",function(){var context=runner.getTestContext();items[context.itemPosition].state&&runner.itemRunner.setState(items[context.itemPosition].state)});var loadItem=function(){var context=runner.getTestContext(),testUri={uri:items[context.itemPosition].uri,itemDefinition:items[context.itemPosition].itemDefinition};Object.assign(testUri,config.testUri),runner.loadItem(testUri)};loadItem(),runner.on("move",function(direction){var nextItemPosition,context=runner.getTestContext(),testMap=runner.getTestMap();"next"===direction&&(nextItemPosition=context.itemPosition+1),"previous"===direction&&(nextItemPosition=context.itemPosition-1),runner.on("unloaditem",function(){runner.off("unloaditem"),context.itemPosition=nextItemPosition,context.itemIdentifier=testMap.jumps[nextItemPosition].identifier,runner.setTestContext(context),loadItem()}),runner.unloadItem(context.itemIdentifier)}),runner.on("destroy",function(){return _this2.destroy()}),runner.spread(this,"error")}).on("error",function(err){_.isUndefined(err.message)||feedback().error(err.message)})}}),function(c){var d=document,s=d.createElement("style");s.type="text/css",d.getElementsByTagName("head")[0].appendChild(s),s.styleSheet?s.styleSheet.cssText=c:s.appendChild(d.createTextNode(c))}(".next-prev-review{margin:10px}.next-prev-review button.small{border-radius:0;text-transform:uppercase}.next-prev-review button.small.review-next{width:120px}.next-prev-review button.small.review-next .icon{float:right;display:block;margin-left:10px;width:10px}.next-prev-review button.small .icon{height:25px;font-size:2rem}.next-prev-review button.small .btn__content{border:transparent 1px dotted}.next-prev-review button.small:focus,.next-prev-review button.small .btn__content:focus{outline:none}.next-prev-review button.small:focus>.btn__content{border:white 1px dotted}\n\n/*# sourceMappingURL=next-prev-review.css.map */.previewer-component .item-previewer-scope .action-bar.bottom-action-bar{display:none}.previewer-component .item-previewer-scope .test-sidebar{height:100%}\n\n/*# sourceMappingURL=item.css.map */"),define("taoReview/loader/qtiReview.bundle",function(){}),define("taoReview/loader/qtiReview.min",["taoItems/loader/taoItems.min","taoQtiItem/loader/taoQtiItem.min","taoTests/loader/taoTests.min","taoQtiTest/loader/taoQtiTest.min","taoQtiTestPreviewer/loader/taoQtiTestPreviewer.min"],function(){});
//# sourceMappingURL=qtiReview.min.js.map