define("tpl!ltiTestReview/review/component/tpl/qtiTestReviewComponent",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},"<div class=\"previewer-component\"></div>"})}),define("css!ltiTestReview/review/component/css/qtiTestReviewComponent",[],function(){}),define("css!ltiTestReview/review/provider/css/qtiTestReviewProvider",[],function(){}),define("ltiTestReview/review/component/qtiTestReviewComponent",["context","taoTests/runner/runnerComponent","tpl!ltiTestReview/review/component/tpl/qtiTestReviewComponent","css!ltiTestReview/review/component/css/qtiTestReviewComponent","css!ltiTestReview/review/provider/css/qtiTestReviewProvider"],function(context,runnerComponentFactory,runnerTpl){"use strict";const extractOptions=config=>{const{fullPage=!1,readOnly=!1,showScore=!1,showCorrect=!1,displaySectionTitles=!0,displayItemTooltip=!1,reviewLayout="default",pluginsOptions={}}=config;return{fullPage,readOnly,showScore,showCorrect,displaySectionTitles,displayItemTooltip,reviewLayout,plugins:pluginsOptions}};return function qtiTestReviewFactory(container){let config=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},template=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;const testRunnerConfig={testDefinition:config.testDefinition||"test-container",serviceCallId:config.testUri&&config.testUri.resultId||"review",providers:{runner:{id:"qtiTestReviewProvider",module:"ltiTestReview/review/provider/qtiTestReviewProvider",bundle:"ltiTestReview/loader/ltiTestReview.min",category:"runner"},proxy:{id:"qtiTestReviewProxy",module:"ltiTestReview/review/proxy/qtiTestReviewProxy",bundle:"ltiTestReview/loader/ltiTestReview.min",category:"proxy"},communicator:{id:"request",module:"core/communicator/request",bundle:"loader/vendor.min",category:"communicator"},plugins:config.plugins||[]},options:extractOptions(config),loadFromBundle:!!context.bundle};return runnerComponentFactory(container,testRunnerConfig,template||runnerTpl).on("render",function onComponentInit(){const{fullPage,readOnly,showScore,showCorrect}=this.getConfig().options;this.setState("fullpage",fullPage),this.setState("readonly",readOnly),this.setState("showscore",showScore),this.setState("showcorrect",showCorrect)}).on("ready",function onComponentReady(runner){runner.on("destroy",()=>this.destroy())})}}),define("ltiTestReview/review/config/qtiTestReviewConfig",["lodash","util/url","util/config"],function(_,urlUtil,configHelper){"use strict";const _defaults={bootstrap:{serviceController:"Review",serviceExtension:"ltiTestReview"}},_entries={serviceCallId:!0,bootstrap:!1,timeout:!1};return function testReviewConfigFactory(config){const storage=configHelper.from(config,_entries,_defaults);return storage.timeout?storage.timeout*=1e3:storage.timeout=void 0,{getParameters(itemIdentifier){const type=typeof itemIdentifier,parameters={serviceCallId:this.getServiceCallId()};if("string"==type)parameters.itemUri=itemIdentifier;else if("object"===type&&_.isPlainObject(itemIdentifier))Object.assign(parameters,itemIdentifier);else if("undefined"!==type)throw new TypeError("Wrong parameter type provided for itemIdentifier: "+type+". Only string or plain object are allowed!");return parameters},getServiceCallId(){return storage.serviceCallId},getServiceController(){return storage.bootstrap.serviceController||_defaults.bootstrap.serviceController},getServiceExtension(){return storage.bootstrap.serviceExtension||_defaults.bootstrap.serviceExtension},getTestActionUrl(action){return urlUtil.route(action,this.getServiceController(),this.getServiceExtension(),this.getParameters())},getItemActionUrl(itemIdentifier,action){return urlUtil.route(action,this.getServiceController(),this.getServiceExtension(),this.getParameters(itemIdentifier))},getTimeout(){return storage.timeout},getCommunicationConfig(){const communication=storage.bootstrap.communication||{},extension=communication.extension||this.getServiceExtension(),controller=communication.controller||this.getServiceController(),action=communication.action||"message",syncActions=communication.syncActions||[],serviceCallId=this.getServiceCallId(),service=communication.service||urlUtil.route(action,controller,extension,{serviceCallId}),params=Object.assign({},communication.params||{},{service});return params.timeout?params.timeout*=1e3:params.timeout=storage.timeout,params.interval&&(params.interval*=1e3),{enabled:communication.enabled,type:communication.type,params,syncActions}}}}}),define("tpl!ltiTestReview/review/plugins/content/item-answer/tpl/item-answer",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1;return stack1=helpers["if"].call(depth0,depth0&&depth0.score,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),stack1||0===stack1?stack1:""}function program2(depth0,data){var stack1,helper,buffer="";return(helper=helpers.scoreText)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.scoreText,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+" ",(helper=helpers.score)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.score,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1),buffer}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+="<div class=\"item-answer\">\n    <div class=\"item-answer-bar\">\n        <div class=\"item-answer-tabs\"></div>\n        <div class=\"item-answer-score\">",stack1=helpers["if"].call(depth0,depth0&&depth0.showScore,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="</div>\n    </div>\n    <div class=\"item-answer-status\"></div>\n</div>",buffer})}),define("tpl!ltiTestReview/review/plugins/content/item-answer/tpl/answer-tabs",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+="\n    <li class=\"tab ",(helper=helpers.cls)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.cls,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\" data-tab-name=\"",(helper=helpers.name)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.name,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\">\n        <button class=\"action navigable\" tabindex=\"0\" ",stack1=helpers["if"].call(depth0,depth0&&depth0.disabled,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n            ",stack1=helpers["if"].call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n            ",stack1=helpers["if"].call(depth0,depth0&&depth0.label,{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        </button>\n    </li>\n    ",buffer}function program2(depth0,data){return"disabled"}function program4(depth0,data){var stack1,helper,buffer="";return buffer+="<span class=\"icon icon-",(helper=helpers.icon)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.icon,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\"></span>",buffer}function program6(depth0,data){var stack1,helper,buffer="";return buffer+="<span class=\"label\">",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>",buffer}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+="<ul class=\"answer-tabs\">\n    ",stack1=helpers.each.call(depth0,depth0&&depth0.tabs,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</ul>",buffer})}),define("css!ltiTestReview/review/plugins/content/item-answer/css/item-answer",[],function(){}),define("ltiTestReview/review/plugins/content/item-answer/item-answer",["lodash","i18n","ui/component","ui/tabs","util/capitalize","tpl!ltiTestReview/review/plugins/content/item-answer/tpl/item-answer","tpl!ltiTestReview/review/plugins/content/item-answer/tpl/answer-tabs","css!ltiTestReview/review/plugins/content/item-answer/css/item-answer"],function(_,__,componentFactory,tabsFactory,capitalize,itemAnswerTpl,answerTabsTpl){"use strict";function getAnswerTab(status){let label;label="informational"===status?__("Informational item"):__("Your response");let icon,cls;return"informational"===status?(icon="informational",cls="informational"):"pending"===status?(icon="time",cls="pending"):"correct"===status?(icon="correct",cls="correct"):"incorrect"===status?(icon="incorrect",cls="incorrect"):"partial"===status?(icon="score-partial",cls="partial"):"default"===status?(icon="answered",cls="answered"):"skipped"===status?(icon="skipped",cls="skipped"):(icon=null,cls=null),{name:"answer",label,icon,cls}}function itemAnswerFactory(container,config){let controls=null,activeTab=null,tabs=[];const api={getScore(){return this.getConfig().score},setScore(score){if((score||"number"==typeof score)&&this.getConfig().showScore||(score=""),this.getConfig().score=`${score}`,this.is("rendered")){const scoreLine=this.getConfig().score&&`${this.getConfig().scoreText} ${this.getConfig().score}`;controls.$score.text(scoreLine)}return this},getHasNoAnswer(){return this.getConfig().hasNoAnswer},setHasNoAnswer(hasNoAnswer){if(this.getConfig().hasNoAnswer=hasNoAnswer,this.is("rendered")){const activeTab=this.getActiveTab();"answer"===activeTab&&hasNoAnswer?controls.$status.text(this.getConfig().skippedText):controls.$status.text("")}return this},getStatus(){return this.getConfig().status},setStatus(status,hasCorrectResponseTab){if(!statuses.includes(status))throw new TypeError("Unknown status for review item-answer");const statusChanged=this.getConfig().status!==status,hasCorrectResponseChanged=this.getConfig().hasCorrectResponseTab!==hasCorrectResponseTab;return this.getConfig().status=status,this.getConfig().hasCorrectResponseTab=hasCorrectResponseTab,statuses.forEach(availableStatus=>this.setState(availableStatus,status===availableStatus)),this.trigger("statuschange",statusChanged,hasCorrectResponseChanged),this},calculateTabs(){const{showCorrect,hasCorrectResponseTab,status}=this.getConfig(),tabs=[getAnswerTab(status)];return showCorrect&&hasCorrectResponseTab&&tabs.push(correctTab),tabs},getActiveTab(){return activeTab}},itemAnswer=componentFactory(api,defaults).setTemplate(itemAnswerTpl).on("init",function onItemAnswerInit(){_.defer(()=>this.render(container))}).on("render",function onItemAnswerRender(){controls={$tabs:this.getElement().find(".item-answer-tabs"),$score:this.getElement().find(".item-answer-score"),$status:this.getElement().find(".item-answer-status")},tabs=this.calculateTabs(),activeTab=tabs[0];const tabsComponent=tabsFactory(controls.$tabs,{activeTab,tabs}).setTemplate(answerTabsTpl).on("tabchange",name=>{activeTab=name,"answer"===name&&this.getHasNoAnswer()?controls.$status.text(this.getConfig().skippedText):controls.$status.text(""),this.trigger("tabchange",name)}).on("ready",()=>{this.setState("ready",!0).trigger("ready")});this.setState("show-score",this.getConfig().showScore).setState("show-correct",this.getConfig().showCorrect).on("statuschange",(statusChanged,hasCorrectResponseChanged)=>{statusChanged||hasCorrectResponseChanged?(tabs=this.calculateTabs(),tabsComponent.setTabs(tabs),this.is("disabled")&&tabsComponent.disable()):tabsComponent.trigger("tabchange",this.getActiveTab())}).on("disable",()=>tabsComponent.disable()).on("enable",()=>tabsComponent.enable()).on("destroy",()=>{tabsComponent.destroy()});const statusInit=`set${capitalize(this.getConfig().status)}`;"function"==typeof this[statusInit]&&this[statusInit]()}).on("destroy",function onItemAnswerDestroy(){controls=null});return _.defer(()=>itemAnswer.init(config)),itemAnswer}const defaults={skippedText:__("No response"),scoreText:__("Your Score:"),status:"informational",showScore:!0,showCorrect:!0,score:""},correctTab={name:"correct",label:__("Correct response")},statuses=["correct","incorrect","skipped","informational","partial","pending","default","no-score"];return itemAnswerFactory}),define("ltiTestReview/review/plugins/content/item-answer/plugin",["lodash","core/promiseTimeout","taoTests/runner/plugin","taoQtiTest/runner/helpers/currentItem","taoQtiTest/runner/helpers/map","ltiTestReview/review/plugins/content/item-answer/item-answer"],function(_,promiseTimeout,pluginFactory,itemHelper,mapHelper,itemAnswerFactory){"use strict";const getItemResponse=testRunner=>{const context=testRunner.getTestContext(),dataHolder=testRunner.getDataHolder();let response=null;if(context){const{itemIdentifier}=context,responses=dataHolder.get("testResponses");response=responses[itemIdentifier]}return response},getItemCorrectResponse=testRunner=>{const declarations=itemHelper.getDeclarations(testRunner),response={};return _.forEach(declarations,declaration=>{const{attributes}=declaration,{identifier,baseType,cardinality}=attributes||{};response[identifier]=_.isEmpty(declaration.correctResponse)?declaration.mapEntries&&_.size(declaration.mapEntries)?{response:itemHelper.toResponse(_.keys(declaration.mapEntries),baseType,cardinality)}:{response:itemHelper.toResponse("",baseType,cardinality)}:{response:itemHelper.toResponse(declaration.correctResponse,baseType,cardinality)}}),response},setItemState=(name,testRunner)=>{const itemRunner=testRunner.itemRunner,{showCorrect}=testRunner.getOptions();let response=null;itemRunner&&("correct"===name&&showCorrect?response=getItemCorrectResponse(testRunner):testRunner.getTestContext()&&(response=getItemResponse(testRunner)),response&&itemRunner.setState(response))},getItemStatusType=(item,withScore)=>withScore?item.informational?"informational":item.isExternallyScored&&item.pendingExternalScore?"pending":item.maxScore&&0<item.score&&item.score===item.maxScore?"correct":item.maxScore&&0===item.score?"incorrect":item.maxScore&&0<item.score&&item.score<item.maxScore?"partial":"no-score":item.informational?"informational":item.skipped?"skipped":"default",getHasCorrectResponseTab=item=>{const statusWithScore=getItemStatusType(item,!0);return["pending","correct","incorrect","partial"].includes(statusWithScore)};return pluginFactory({name:"item-answer",init(){this.getTestRunner().on("enablenav",()=>this.enable()).on("disablenav",()=>this.disable())},render(){return promiseTimeout(new Promise(resolve=>{const testRunner=this.getTestRunner(),areaBroker=this.getAreaBroker(),{showScore,showCorrect}=testRunner.getOptions(),itemAnswer=itemAnswerFactory(areaBroker.getArea("itemTool"),Object.assign({showScore,showCorrect},this.getConfig()));itemAnswer.on("tabchange",name=>setItemState(name,testRunner)).on("ready",resolve),testRunner.on("renderitem",itemRef=>{const item=mapHelper.getItem(testRunner.getTestMap(),itemRef),statusType=getItemStatusType(item,showScore),hasCorrectResponseTab=getHasCorrectResponseTab(item);itemAnswer.setStatus(statusType,hasCorrectResponseTab),itemAnswer.setHasNoAnswer(item.skipped);let score="";["correct","incorrect","partial","pending"].includes(statusType)&&item.maxScore&&(score=`${item.score||0}/${item.maxScore}`),itemAnswer.setScore(score),areaBroker.getContentArea().find("[tabindex]").attr("tabindex",-1)}).on(`plugin-show.${this.getName()}`,()=>itemAnswer.show()).on(`plugin-hide.${this.getName()}`,()=>itemAnswer.hide()).on(`plugin-enable.${this.getName()}`,()=>itemAnswer.enable()).on(`plugin-disable.${this.getName()}`,()=>itemAnswer.disable()).on(`plugin-destroy.${this.getName()}`,()=>itemAnswer.destroy())}))}})}),define("tpl!ltiTestReview/review/plugins/navigation/next-prev/tpl/buttons",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+="\n    <button data-control=\"",(helper=helpers.control)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.control,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\" class=\"small btn-info btn-group action",stack1=helpers.unless.call(depth0,depth0&&depth0.text,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),stack1=helpers.unless.call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=" ",(helper=helpers.cls)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.cls,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\" title=\"",(helper=helpers.title)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.title,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\" tabindex=\"0\">\n        ",stack1=helpers["if"].call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        ",stack1=helpers["if"].call(depth0,depth0&&depth0.text,{hash:{},inverse:self.noop,fn:self.program(8,program8,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    </button>\n",buffer}function program2(depth0,data){return" no-label"}function program4(depth0,data){return" no-icon"}function program6(depth0,data){var stack1,helper,buffer="";return buffer+="\n            <span class=\"icon icon-",(helper=helpers.icon)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.icon,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\"></span>\n        ",buffer}function program8(depth0,data){var stack1,helper,buffer="";return buffer+="\n            <span class=\"label\">",(helper=helpers.text)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.text,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n        ",buffer}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+="<div class=\"next-prev\">\n",stack1=helpers.each.call(depth0,depth0&&depth0.buttons,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</div>",buffer})}),define("css!ltiTestReview/review/plugins/navigation/next-prev/css/buttons",[],function(){}),define("ltiTestReview/review/plugins/navigation/next-prev/buttons",["lodash","i18n","ui/component","tpl!ltiTestReview/review/plugins/navigation/next-prev/tpl/buttons","css!ltiTestReview/review/plugins/navigation/next-prev/css/buttons"],function(_,__,componentFactory,buttonsTpl){"use strict";function buttonsFactory(container,config){const disabledButtons=new Map,enableElement=$el=>$el.prop("disabled",!1),disableElement=$el=>$el.prop("disabled",!0),api={disableButton(btn){return disabledButtons.set(btn,btn),this.is("rendered")&&!this.is("disabled")&&disableElement(this.getElement().find(`[data-control="${btn}"]`)),this.trigger("disable-button",btn),this},enableButton(btn){return disabledButtons.delete(btn),this.is("rendered")&&!this.is("disabled")&&enableElement(this.getElement().find(`[data-control="${btn}"]`)),this.trigger("enable-button",btn),this},toggleButton(btn){let state=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return null===state&&(state=disabledButtons.has(btn)),state?this.enableButton(btn):this.disableButton(btn),this}},component=componentFactory(api,defaults).setTemplate(buttonsTpl).on("init",function onButtonsInit(){_.defer(()=>this.render(container))}).on("render",function onButtonsRender(){this.getElement().on("click",".action",e=>{const control=e.currentTarget.dataset.control;!control||this.is("disabled")||disabledButtons.has(control)||(e.currentTarget.classList.add("active"),this.trigger("click",control))}),this.setState("ready",!0).trigger("ready")}).on("disable",function onButtonDisable(){this.is("rendered")&&disableElement(this.getElement().find("[data-control]"))}).on("enable",function onButtonEnable(){this.is("rendered")&&this.getElement().find("[data-control]").each((index,el)=>{const control=el.dataset.control;disabledButtons.has(control)||(el.disabled=!1),el.classList.contains("active")&&(!disabledButtons.has(control)&&el.focus(),el.classList.remove("active"))})}).on("destroy",()=>{disabledButtons.clear()});return _.defer(()=>component.init(config)),component}const defaults={buttons:[{title:__("Go to the next item"),cls:"right",icon:"right",text:__("Next"),control:"next"},{title:__("Go to the previous item"),icon:"left",control:"prev"}]};return buttonsFactory}),define("ltiTestReview/review/plugins/navigation/next-prev/plugin",["lodash","util/shortcut","util/namespace","core/promiseTimeout","taoTests/runner/plugin","taoQtiTest/runner/helpers/map","ltiTestReview/review/plugins/navigation/next-prev/buttons"],function(_,shortcut,namespaceHelper,promiseTimeout,pluginFactory,mapHelper,buttonsFactory){"use strict";return pluginFactory({name:"next-prev",init(){const testRunner=this.getTestRunner(),testConfig=testRunner.getConfig(),pluginShortcuts=(testConfig.shortcuts||{})[this.getName()]||{};testConfig.allowShortcuts&&Object.keys(pluginShortcuts).forEach(key=>{shortcut.add(namespaceHelper.namespaceAll(pluginShortcuts[key],this.getName(),!0),()=>testRunner.trigger(`nav-${key}`,!0),{avoidInput:!0,prevent:!0})}),this.disable(),testRunner.on("enablenav",()=>this.enable()).on("disablenav",()=>this.disable()).on("hidenav",()=>this.hide()).on("shownav",()=>this.show()).on("destroy",()=>shortcut.remove(`.${this.getName()}`))},render(){return promiseTimeout(new Promise(resolve=>{const testRunner=this.getTestRunner(),buttons=buttonsFactory(this.getAreaBroker().getNavigationArea()),canDoNext=()=>{const last=_.findLast(mapHelper.getJumps(testRunner.getTestMap()),jump=>jump&&jump.identifier),context=testRunner.getTestContext();return last&&context.itemPosition<last.position},canDoPrevious=()=>{const first=_.find(mapHelper.getJumps(testRunner.getTestMap()),jump=>jump&&jump.identifier),context=testRunner.getTestContext();return first&&context.itemPosition>first.position},doNext=()=>{!1!==this.getState("enabled")&&canDoNext()&&(testRunner.trigger("disablenav"),testRunner.next())},doPrevious=()=>{!1!==this.getState("enabled")&&canDoPrevious()&&(testRunner.trigger("disablenav"),testRunner.previous())},toggle=()=>{buttons.toggleButton("prev",canDoPrevious()),buttons.toggleButton("next",canDoNext())};buttons.on("click",btn=>testRunner.trigger(`nav-${btn}`)).on("ready",()=>{!1===this.getState("enabled")&&buttons.disable(),resolve()}),testRunner.on("loaditem testmapchange",toggle).on("nav-next",doNext).on("nav-prev",doPrevious).on(`plugin-show.${this.getName()}`,()=>buttons.show()).on(`plugin-hide.${this.getName()}`,()=>buttons.hide()).on(`plugin-enable.${this.getName()}`,()=>buttons.enable()).on(`plugin-disable.${this.getName()}`,()=>buttons.disable()).on(`plugin-destroy.${this.getName()}`,()=>buttons.destroy())}))}})}),define("ltiTestReview/review/plugins/navigation/review-panel/panel-data",["lodash","i18n"],function(_,__){"use strict";const compareByPosition=(a,b)=>a.position-b.position,getItemType=(item,withScore)=>withScore?item.informational?"info":item.isExternallyScored&&item.pendingExternalScore?"score-pending":item.maxScore&&0<item.score&&item.score===item.maxScore?"correct":item.maxScore&&0===item.score?"incorrect":item.maxScore&&0<item.score&&item.score<item.maxScore?"score-partial":"no-score":item.informational?"info":item.skipped?"skipped":"default",extractData=(entry,withScore)=>{const{id,label,position,informational,skipped,title,unseen,score,maxScore}=entry||{},data={id,label,position,withScore};return withScore&&Object.assign(data,{score,maxScore}),"undefined"!=typeof informational&&(data.informational=informational),"undefined"!=typeof skipped&&(data.skipped=skipped),"undefined"!=typeof unseen&&(data.unseen=unseen),"undefined"!=typeof title&&(data.title=title),data},extendReviewItemScope=(item,entry,numericLabel)=>{const reviewItem=Object.assign({},entry),type=reviewItem.type;return reviewItem.numericLabel="info"===type?"":`${numericLabel}`,reviewItem.icon="info"===type?"info":null,reviewItem.ariaLabel="info"===type?__("Informational item"):__("Question %s",reviewItem.numericLabel),reviewItem.scoreType=null,"correct"===type?reviewItem.scoreType="correct":"incorrect"===type?reviewItem.scoreType="incorrect":"score-pending"===type?reviewItem.scoreType="score-pending":"score-partial"===type&&(reviewItem.scoreType="score-partial"),reviewItem.status=reviewItem.unseen?"unseen":"info"!==type&&"skipped"!==type?"answered":"viewed",reviewItem.accordionScoreLabel="-",["correct","incorrect","score-partial","score-pending"].includes(reviewItem.type)&&item.maxScore&&(reviewItem.accordionScoreLabel=`${item.score||0}/${item.maxScore}`),reviewItem};return{getReviewPanelMap(testMap,withScore){const{parts,score,maxScore}=testMap,items=new Map,sections=new Map;let nonInformationalCount=0;const panelMap={parts:_.map(parts,part=>Object.assign(extractData(part,withScore),{sections:_.map(part.sections,section=>{const reviewSection=Object.assign(extractData(section,withScore),{items:_.chain(section.items).sortBy("position").map(item=>{let reviewItem=extractData(item,withScore);return reviewItem.type=getItemType(item,withScore),"info"!==reviewItem.type&&nonInformationalCount++,reviewItem=extendReviewItemScope(item,reviewItem,nonInformationalCount),items.set(item.id,reviewItem),reviewItem}).value()});return sections.set(section.id,reviewSection),reviewSection}).sort(compareByPosition)})).sort(compareByPosition),withScore,items,sections};return withScore&&Object.assign(panelMap,{score,maxScore}),panelMap}}}),define("tpl!ltiTestReview/review/plugins/navigation/review-panel/tpl/accordionPanel",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+="\n    <header class=\"review-panel-header\">\n    ",stack1=helpers["with"].call(depth0,depth0&&depth0.header,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    </header>\n",buffer}function program2(depth0,data){var stack1,helper,buffer="";return buffer+="\n        <span class=\"review-panel-label\">",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n        <span class=\"review-panel-score\">",(helper=helpers.score)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.score,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n    ",buffer}function program4(depth0,data){var stack1,buffer="";return buffer+="\n    <ul class=\"review-panel-filters plain\">\n    ",stack1=helpers.each.call(depth0,depth0&&depth0.filters,{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    </ul>\n",buffer}function program5(depth0,data){var stack1,helper,buffer="";return buffer+="\n        <li class=\"review-panel-filter navigable\" data-control=\"",(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\">\n            <span class=\"review-panel-label\" title=\"",(helper=helpers.title)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.title,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\">",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n        </li>\n    ",buffer}function program7(depth0,data){var stack1,buffer="";return buffer+="\n    <footer class=\"review-panel-footer\">\n    ",stack1=helpers["with"].call(depth0,depth0&&depth0.footer,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    </footer>\n",buffer}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+="<div class=\"review-panel accordion\">\n",stack1=helpers["if"].call(depth0,depth0&&depth0.header,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n",stack1=helpers["if"].call(depth0,depth0&&depth0.filters,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    <nav class=\"review-panel-content\"></nav>\n",stack1=helpers["if"].call(depth0,depth0&&depth0.footer,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</div>",buffer})}),define("tpl!ltiTestReview/review/plugins/navigation/review-panel/tpl/accordionList",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+="\n<ul class=\"review-panel-list plain\">\n    ",stack1=helpers.each.call(depth0,depth0&&depth0.parts,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</ul>\n",buffer}function program2(depth0,data){var stack1,helper,buffer="";return buffer+="\n    <li class=\"review-panel-part collapsible",stack1=helpers["if"].call(depth0,depth0&&depth0.active,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),stack1=helpers["if"].call(depth0,depth0&&depth0.expanded,{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\" data-control=\"",(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\">\n        <span class=\"review-panel-label navigable\" title=\"",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\">",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"<span class=\"collapsible-arrow\"></span></span>\n        <ul class=\"review-panel-block plain\">\n        ",stack1=helpers.each.call(depth0,depth0&&depth0.sections,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        </ul>\n    </li>\n    ",buffer}function program3(depth0,data){return" active"}function program5(depth0,data){return" expanded"}function program7(depth0,data){var stack1,helper,buffer="";return buffer+="\n            <li class=\"review-panel-section collapsible",stack1=helpers["if"].call(depth0,depth0&&depth0.active,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),stack1=helpers["if"].call(depth0,depth0&&depth0.expanded,{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\" data-control=\"",(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\">\n                <span class=\"review-panel-label navigable\" title=\"",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\">",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"<span class=\"collapsible-arrow\"></span></span>\n                <ul class=\"review-panel-block plain\">\n                ",stack1=helpers.each.call(depth0,depth0&&depth0.items,{hash:{},inverse:self.noop,fn:self.program(8,program8,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n                </ul>\n            </li>\n            ",buffer}function program8(depth0,data){var stack1,helper,buffer="";return buffer+="\n                    <li class=\"review-panel-item navigable",stack1=helpers["if"].call(depth0,depth0&&depth0.active,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),stack1=helpers["if"].call(depth0,depth0&&depth0.type,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\" data-control=\"",(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\" data-position=\"",(helper=helpers.position)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.position,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\" title=\"",(helper=helpers.title)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.title,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\">\n                        <span class=\"review-panel-label\">",(helper=helpers.title)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.title,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n                    ",stack1=helpers["if"].call(depth0,depth0&&depth0.withScore,{hash:{},inverse:self.noop,fn:self.program(11,program11,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n                    </li>\n                ",buffer}function program9(depth0,data){var stack1,helper,buffer="";return buffer+=" item-",(helper=helpers.type)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.type,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1),buffer}function program11(depth0,data){var stack1,helper,buffer="";return buffer+="\n                        <span class=\"review-panel-score\">",(helper=helpers.accordionScoreLabel)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.accordionScoreLabel,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n                    ",buffer}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,functionType="function",escapeExpression=this.escapeExpression,self=this;return stack1=helpers["if"].call(depth0,depth0&&depth0.parts,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),stack1||0===stack1?stack1:""})}),define("css!ltiTestReview/review/plugins/navigation/review-panel/css/accordion-panel",[],function(){}),define("ltiTestReview/review/plugins/navigation/review-panel/accordionPanel",["jquery","lodash","i18n","ui/hider","ui/autoscroll","ui/component","ltiTestReview/review/plugins/navigation/review-panel/panel-data","tpl!ltiTestReview/review/plugins/navigation/review-panel/tpl/accordionPanel","tpl!ltiTestReview/review/plugins/navigation/review-panel/tpl/accordionList","css!ltiTestReview/review/plugins/navigation/review-panel/css/accordion-panel.css"],function($,_,__,hider,autoscroll,componentFactory,reviewDataHelper,panelTpl,listTpl){"use strict";var _Mathfloor=Math.floor;function accordionReviewPanelFactory(container){let component,config=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},map=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,controls=null,activeFilter=null,activeItem=null,data=null;const selectFilter=filterId=>{controls.$filters.removeClass(cssClasses.active).filter(`[data-control="${filterId}"]`).addClass(cssClasses.active)},selectItem=itemId=>{controls.$content.find(cssSelectors.active).removeClass(cssClasses.active);const $target=findControl(controls.$content,itemId);if($target.length){const $parents=$target.parentsUntil(controls.$content,cssSelectors.control);$target.add($parents).addClass(cssClasses.active),autoscroll($target,controls.$content)}},eachNavigable=callback=>{component.getElement().find(cssSelectors.navigable).each(callback)},enableKeyboard=()=>eachNavigable((index,el)=>el.setAttribute("tabindex",0)),disableKeyboard=()=>eachNavigable((index,el)=>el.setAttribute("tabindex",-1)),itemChange=()=>{component.trigger("itemchange",activeItem.id,activeItem.position)},api={getData(){return data},setData(newMap){return data=reviewDataHelper.getReviewPanelMap(newMap,this.getConfig().showScore,!1),this.trigger("datachange",data),this},getActiveFilter(){return activeFilter&&activeFilter.id},setActiveFilter(filterId){const{filters}=this.getConfig();if(Array.isArray(filters)){const foundFilter=filters.find(filter=>filter.id===filterId);foundFilter&&(!activeFilter||activeFilter.id!==filterId)&&(activeFilter=foundFilter,this.is("rendered")&&selectFilter(filterId),this.trigger("filterchange",filterId))}return this},getActiveItem(){return activeItem&&activeItem.id},getActiveItemPosition(){return activeItem&&activeItem.position},setActiveItem(itemId){return data&&data.items.has(itemId)&&(!activeItem||activeItem.id!==itemId)&&(activeItem=data.items.get(itemId),this.is("rendered")&&selectItem(itemId),this.trigger("active",itemId)),this},expand(id){if(this.is("rendered")){const $target=findControl(controls.$content,id);if($target.length){let $collapsed=$target.parentsUntil(controls.$content,cssSelectors.collapsible).add($target.find(cssSelectors.collapsible).filter(":first-child"));$target.is(cssSelectors.collapsible)&&($collapsed=$collapsed.add($target)),$collapsed.filter(cssSelectors.expanded).length!==$collapsed.length&&(this.collapse(),$collapsed.each((index,el)=>{el.classList.add(cssClasses.expanded),this.trigger("expand",el.dataset.control)}))}}return this},collapse(){let id=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(this.is("rendered")){let $expanded=null;if(id){const $target=findControl(controls.$content,id);$expanded=findExpanded($target),$target.is(cssSelectors.expanded)&&($expanded=$expanded.add($target))}else $expanded=findExpanded(controls.$content);$expanded.each((index,el)=>{el.classList.remove(cssClasses.expanded),this.trigger("collapse",el.dataset.control)})}return this},toggle(id){if(this.is("rendered")){const $target=findControl(controls.$content,id);$target.length&&($target.is(cssSelectors.expanded)?this.collapse(id):this.expand(id))}return this},update(){if(data&&this.is("rendered")){let scorePercent,scoreText;data.maxScore?(scoreText=`${data.score}/${data.maxScore}`,scorePercent=`${_Mathfloor(100*data.score/data.maxScore)||0}%`):(scoreText=`${data.score}`,scorePercent="0%"),controls.$content.html(listTpl(data)),controls.$headerScore.text(scorePercent),controls.$footerScore.text(scoreText),hider.toggle(controls.$filters,data.score!==data.maxScore),this.is("disabled")||enableKeyboard(),this.trigger("update",data)}return this}};return component=componentFactory(api,defaults).setTemplate(panelTpl).on("init",function onReviewPanelInit(){const initConfig=this.getConfig();initConfig.showScore||(initConfig.headerLabel=!1,initConfig.footerLabel=!1,initConfig.filters=!1);const{headerLabel,footerLabel,filters}=initConfig;headerLabel&&(initConfig.header={label:headerLabel,score:"0%"}),footerLabel&&(initConfig.footer={label:footerLabel,score:"0"}),!activeFilter&&Array.isArray(filters)&&(activeFilter=filters.find(filter=>filter.label)),map&&component.setData(map),_.defer(()=>this.render(container))}).on("render",function onReviewPanelRender(){controls={$headerScore:this.getElement().find(`${cssSelectors.header} ${cssSelectors.score}`),$footerScore:this.getElement().find(`${cssSelectors.footer} ${cssSelectors.score}`),$filtersContainer:this.getElement().find(cssSelectors.filtersContainer),$filters:this.getElement().find(cssSelectors.filter),$content:this.getElement().find(cssSelectors.content)},this.getElement().on("keydown",cssSelectors.navigable,e=>{(" "===e.key||"Enter"===e.key)&&(e.preventDefault(),e.currentTarget.click())}),controls.$filtersContainer.on("click",cssSelectors.filter,e=>{this.is("disabled")||this.setActiveFilter(e.currentTarget.dataset.control)}),controls.$content.on("click",cssSelectors.collapsibleLabel,e=>{this.is("disabled")||this.toggle(e.currentTarget.parentElement.dataset.control)}),controls.$content.on("click",cssSelectors.item,e=>{if(!this.is("disabled")){const currentId=activeItem&&activeItem.id;this.setActiveItem(e.currentTarget.dataset.control),activeItem&&activeItem.id!==currentId&&itemChange()}}),this.update(),activeFilter&&selectFilter(activeFilter.id),activeItem&&(selectItem(activeItem.id),this.expand(activeItem.id)),this.setState("show-score",this.getConfig().showScore).setState("ready",!0).trigger("ready")}).on("enable",()=>enableKeyboard).on("disable",()=>disableKeyboard).on("active",function onReviewPanelActiveItem(itemId){this.expand(itemId)}).on("update",function onReviewPanelUpdate(){activeItem&&(data.items.has(activeItem.id)?(selectItem(activeItem.id),this.expand(activeItem.id)):controls.$content.find(`${cssSelectors.item}:nth(0)`).click())}).on("datachange",function onReviewPanelDataChange(){this.update()}).on("destroy",function onReviewPanelDestroy(){controls=null}),_.defer(()=>component.init(config)),component}const defaults={headerLabel:__("TEST SCORE:"),footerLabel:__("TOTAL"),showScore:!0,filters:[{id:"all",label:__("All"),title:__("Show all items")},{id:"incorrect",label:__("Incorrect"),title:__("Show incorrect items only")}]},cssClasses={collapsible:"collapsible",expanded:"expanded",active:"active"},cssSelectors={collapsible:`.${cssClasses.collapsible}`,collapsibleLabel:`.${cssClasses.collapsible} > .review-panel-label`,expanded:`.${cssClasses.expanded}`,active:`.${cssClasses.active}`,navigable:".navigable",control:"[data-control]",content:".review-panel-content",filtersContainer:".review-panel-filters",filter:".review-panel-filter",item:".review-panel-item",header:".review-panel-header",footer:".review-panel-footer",score:".review-panel-score"},findControl=($container,id)=>$container.find(`[data-control="${id}"]`),findExpanded=$target=>$target.find(cssSelectors.collapsible+cssSelectors.expanded);return accordionReviewPanelFactory}),define("tpl!ltiTestReview/review/plugins/navigation/review-panel/tpl/fizzyPanel",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+="\n            <div class=\"review-panel-score-header\">\n            ",stack1=helpers["with"].call(depth0,depth0&&depth0.header,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n            </div>\n        ",buffer}function program2(depth0,data){var stack1,helper,buffer="";return buffer+="\n                <span class=\"review-panel-label\">",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n                <span class=\"review-panel-score\">",(helper=helpers.score)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.score,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n            ",buffer}function program4(depth0,data){var stack1,buffer="";return buffer+="\n    <footer class=\"review-panel-footer\">\n    ",stack1=helpers["with"].call(depth0,depth0&&depth0.footer,{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    </footer>\n",buffer}function program5(depth0,data){var stack1,helper,buffer="";return buffer+="\n        <span class=\"review-panel-label\">",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n        <span class=\"review-panel-score\">",(helper=helpers.score)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.score,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n    ",buffer}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+="<div class=\"review-panel fizzy\">\n    <header class=\"review-panel-header\">\n        <div class=\"review-panel-title\">",(helper=helpers.headerTitle)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.headerTitle,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</div>\n        ",stack1=helpers["if"].call(depth0,depth0&&depth0.header,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    </header>\n    <nav class=\"review-panel-content\"></nav>\n",stack1=helpers["if"].call(depth0,depth0&&depth0.footer,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</div>",buffer})}),define("tpl!ltiTestReview/review/plugins/navigation/review-panel/tpl/fizzyList",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data,depth1){var stack1,buffer="";return buffer+="\n    <li class=\"review-panel-section\">\n        ",stack1=helpers["if"].call(depth0,depth1&&depth1.displaySectionTitles,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        <div class=\"review-panel-items\"></div>\n    </li>\n    ",buffer}function program2(depth0,data){var stack1,helper,buffer="";return buffer+="\n            <span class=\"review-panel-label\" title=\"",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\">\n                <span class=\"review-panel-text\">",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n            </span>\n        ",buffer}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return buffer+="<ol class=\"review-panel-sections\">\n    ",stack1=helpers.each.call(depth0,depth0&&depth0.sections,{hash:{},inverse:self.noop,fn:self.programWithDepth(1,program1,data,depth0),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</ol>",buffer})}),define("css!ltiTestReview/review/plugins/navigation/review-panel/css/fizzy-panel",[],function(){}),define("ltiTestReview/review/plugins/navigation/review-panel/fizzyPanel",["lodash","i18n","ui/component","ui/itemButtonList","ltiTestReview/review/plugins/navigation/review-panel/panel-data","tpl!ltiTestReview/review/plugins/navigation/review-panel/tpl/fizzyPanel","tpl!ltiTestReview/review/plugins/navigation/review-panel/tpl/fizzyList","css!ltiTestReview/review/plugins/navigation/review-panel/css/fizzy-panel.css"],function(_,__,componentFactory,itemButtonListFactory,reviewDataHelper,panelTpl,listTpl){"use strict";var _Mathfloor2=Math.floor;function fizzyReviewPanelFactory(container){let component,config=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},testMap=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,itemButtonListComponents=[],controls=null,activeItem=null,data=null;const selectItem=itemId=>{itemButtonListComponents.forEach(c=>c.setActiveItem(itemId))},itemChange=()=>{component.trigger("itemchange",activeItem.id,activeItem.position)},onItemClick=e=>{if(!component.is("disabled")){const currentId=component.getActiveItem();component.setActiveItem(e.id),component.getActiveItem()!==currentId&&itemChange()}},renderItemButtonListComponents=()=>{itemButtonListComponents.forEach(c=>c.destroy()),itemButtonListComponents=[],component.is("rendered")&&controls.$content.find(cssSelectors.itemButtonListContainer).each((index,itemButtonListContainerElem)=>{let items=data.sections[index].items;config.displayItemTooltip||(items=items.map(item=>{const itemData=_.clone(item);return delete itemData.title,itemData}));const itemButtonListComponent=itemButtonListFactory({items}).render(itemButtonListContainerElem).on("click",onItemClick);itemButtonListComponents.push(itemButtonListComponent)})},api={getData(){return data},setData(newMap){const{showScore,displaySectionTitles}=this.getConfig();return data=reviewDataHelper.getReviewPanelMap(newMap,showScore),data.displaySectionTitles=displaySectionTitles,data.sections=Array.from(data.sections.values()),this.trigger("datachange",data),this},getActiveItem(){return activeItem&&activeItem.id},setActiveItem(itemId){return data&&data.items.has(itemId)&&(!activeItem||activeItem.id!==itemId)&&(activeItem=data.items.get(itemId),this.is("rendered")&&selectItem(itemId),this.trigger("active",itemId)),this},update(){if(data&&this.is("rendered")){let scorePercent,scoreText;data.maxScore?(scoreText=`${data.score}/${data.maxScore}`,scorePercent=`${_Mathfloor2(100*data.score/data.maxScore)||0}%`):(scoreText=`${data.score}`,scorePercent="0%"),controls.$headerScore.text(scorePercent),controls.$footerScore.text(scoreText),controls.$content.html(listTpl(data)),renderItemButtonListComponents(),this.trigger("update",data)}return this}};return component=componentFactory(api,defaults).setTemplate(panelTpl).on("init",function onReviewPanelInit(){const initConfig=this.getConfig();initConfig.showScore||(initConfig.headerLabel=!1,initConfig.footerLabel=!1);const{headerLabel,footerLabel}=initConfig;headerLabel&&(initConfig.header={label:headerLabel,score:"0%"}),footerLabel&&(initConfig.footer={label:footerLabel,score:"0"}),testMap&&component.setData(testMap),_.defer(()=>this.render(container))}).on("render",function onReviewPanelRender(){controls={$headerScore:this.getElement().find(`${cssSelectors.header} ${cssSelectors.score}`),$footerScore:this.getElement().find(`${cssSelectors.footer} ${cssSelectors.score}`),$content:this.getElement().find(cssSelectors.content)},this.update(),activeItem&&selectItem(activeItem.id),controls.$content.on("click",cssSelectors.navigable,e=>{onItemClick({id:e.currentTarget.dataset.id})}),this.setState("show-score",this.getConfig().showScore).setState("ready",!0).trigger("ready")}).on("enable",()=>{itemButtonListComponents.forEach(c=>c.enable())}).on("disable",()=>{itemButtonListComponents.forEach(c=>c.disable())}).on("update",function onReviewPanelUpdate(){activeItem&&(!data.items.has(activeItem.id)&&0<data.items.size?onItemClick({id:data.sections[0].items[0].id}):selectItem(activeItem.id))}).on("datachange",function onReviewPanelDataChange(){this.update()}).on("destroy",function onReviewPanelDestroy(){itemButtonListComponents.forEach(c=>c.destroy()),itemButtonListComponents=[],controls=null}),_.defer(()=>component.init(config)),component}const defaults={headerTitle:__("Test review"),headerLabel:__("Total score:"),footerLabel:__("Total"),showScore:!1,showCorrect:!1},cssSelectors={navigable:".item-buttonlist-btn",content:".review-panel-content",header:".review-panel-header",footer:".review-panel-footer",score:".review-panel-score",itemButtonListContainer:".review-panel-items"};return fizzyReviewPanelFactory}),define("ltiTestReview/review/services/navigation-data",["lodash","core/eventifier","taoQtiTest/runner/helpers/map"],function(_,eventifier,mapHelper){"use strict";function navigationDataServiceFactory(){let filteredTestMap,testMap=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};const navigationDataService={getMap(){return testMap},getFilteredMap(){return filteredTestMap},setMap(map){return testMap=this.computeMap(map),this.trigger("mapchange",testMap),this.filterMap(),this},filterMap(){let filter=0<arguments.length&&void 0!==arguments[0]?arguments[0]:()=>!0;if(!_.isFunction(filter))throw new TypeError("A filter must be a function!");filteredTestMap=Object.assign({},testMap,{parts:_.reduce(testMap.parts,(parts,part,partId)=>(part=Object.assign({},part,{sections:_.reduce(part.sections,(sections,section,sectionId)=>(section=Object.assign({},section,{items:_.pickBy(section.items,filter)}),_.size(section.items)&&(sections[sectionId]=section),sections),{})}),_.size(part.sections)&&(parts[partId]=part),parts),{})}),mapHelper.createJumpTable(filteredTestMap);const jumps=mapHelper.getJumps(filteredTestMap);return _.times(jumps.length,index=>jumps[index]=jumps[index]||{}),this.trigger("mapfilter",filteredTestMap),this},computeMap(){let map=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},map,computeScore(_.mapValues(map.parts||{},part=>Object.assign({},part,computeScore(_.mapValues(part.sections||{},section=>Object.assign({},section,computeScore(section.items||{},"items"))),"sections"))),"parts"))}};return eventifier(navigationDataService),testMap&&navigationDataService.setMap(testMap),navigationDataService}const computeScore=(collection,property)=>{let score=0,maxScore=0;return{[property]:_.mapValues(collection,item=>(item.score=item.score||0,item.maxScore=item.maxScore||0,score+=item.score,maxScore+=item.maxScore,item)),score,maxScore}};return navigationDataServiceFactory}),define("ltiTestReview/review/plugins/navigation/review-panel/plugin",["core/promiseTimeout","taoTests/runner/plugin","ltiTestReview/review/services/navigation-data","ltiTestReview/review/plugins/navigation/review-panel/accordionPanel","ltiTestReview/review/plugins/navigation/review-panel/fizzyPanel"],function(promiseTimeout,pluginFactory,navigationDataServiceFactory,accordionReviewPanelFactory,fizzyReviewPanelFactory){"use strict";const getItemTypeForFilter=item=>item.informational?"info":item.isExternallyScored&&item.pendingExternalScore?"score-pending":item.maxScore&&0<item.score&&item.score===item.maxScore?"correct":item.maxScore&&0===item.score?"incorrect":item.maxScore&&0<item.score&&item.score<item.maxScore?"score-partial":"no-score",filters={all(){return!0},incorrect(item){const itemType=getItemTypeForFilter(item);return["incorrect","score-partial"].includes(itemType)}};return pluginFactory({name:"review-panel",init(){this.getTestRunner().on("enablenav",()=>this.enable()).on("disablenav",()=>this.disable())},render(){return promiseTimeout(new Promise(resolve=>{const testRunner=this.getTestRunner(),navigationDataService=navigationDataServiceFactory(testRunner.getTestMap()),{showScore,showCorrect,displaySectionTitles,reviewLayout,displayItemTooltip}=testRunner.getOptions(),reviewPanelFactory="fizzy"===reviewLayout?fizzyReviewPanelFactory:accordionReviewPanelFactory,reviewPanelConfig=Object.assign({showScore,showCorrect,displaySectionTitles,displayItemTooltip},this.getConfig()),reviewPanel=reviewPanelFactory(this.getAreaBroker().getPanelArea(),reviewPanelConfig,navigationDataService.getMap());reviewPanel.on("filterchange",filterId=>navigationDataService.filterMap(filters[filterId])).on("itemchange",(itemRef,position)=>testRunner.jump(position,"item")).on("ready",resolve),navigationDataService.on("mapfilter",filteredMap=>testRunner.setTestMap(filteredMap)),testRunner.on("testmapchange",testMap=>reviewPanel.setData(testMap)).on("loaditem",itemRef=>reviewPanel.setActiveItem(itemRef)).on(`plugin-show.${this.getName()}`,()=>reviewPanel.show()).on(`plugin-hide.${this.getName()}`,()=>reviewPanel.hide()).on(`plugin-enable.${this.getName()}`,()=>reviewPanel.enable()).on(`plugin-disable.${this.getName()}`,()=>reviewPanel.disable()).on("destroy",()=>reviewPanel.destroy())}))}})}),define("ltiTestReview/review/services/navigator",["lodash","taoQtiTest/runner/helpers/map","taoQtiTest/runner/helpers/testContextBuilder","taoQtiTest/runner/navigator/navigator"],function(_,mapHelper,testContextBuilder,runnerNavigatorFactory){function navigatorFactory(testContext,testMap){const navigator=runnerNavigatorFactory(testContext,testMap);return Object.assign({},navigator,{nextItem(){const next=_.find(mapHelper.getJumps(testMap),jump=>jump&&jump.position>testContext.itemPosition);return!!next&&testContextBuilder.buildTestContextFromPosition(testContext,testMap,next.position)},previousItem(){const prev=_.findLast(mapHelper.getJumps(testMap),jump=>jump&&jump.position<testContext.itemPosition);return!!prev&&testContextBuilder.buildTestContextFromPosition(testContext,testMap,prev.position)},nextSection(){const sectionStats=mapHelper.getSectionStats(testMap,testContext.sectionId),section=mapHelper.getSection(testMap,testContext.sectionId),itemPosition=section.position+sectionStats.total,next=_.find(mapHelper.getJumps(testMap),jump=>jump&&jump.position>=itemPosition);return!!next&&testContextBuilder.buildTestContextFromPosition(testContext,testMap,next.position)}})}return navigatorFactory}),define("tpl!ltiTestReview/review/provider/tpl/qtiTestReviewProvider",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var helper,options,buffer="",helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;return buffer+="<main class=\"test-review-scope\">\n    <div class=\"jumplinks\">\n        <a class=\"jumplink navigationlink\" href=\"#\" data-area=\"sidebar\" tabindex=\"1\">"+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Jump to:",options):helperMissing.call(depth0,"__","Jump to:",options)))+" <b>"+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Navigation",options):helperMissing.call(depth0,"__","Navigation",options)))+"</b></a>\n        <a class=\"jumplink answerlink\" href=\"#\" data-area=\"contentWrapper\" tabindex=\"1\">"+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Jump to:",options):helperMissing.call(depth0,"__","Jump to:",options)))+" <b>"+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Question",options):helperMissing.call(depth0,"__","Question",options)))+"</b></a>\n    </div>\n    <div class=\"action-bar content-action-bar horizontal-action-bar top-action-bar\">\n        <div class=\"control-box size-wrapper\">\n            <div class=\"lft tools-box\"></div>\n            <div class=\"rgt navi-box\">\n                <ul class=\"plain navi-box-list\"></ul>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"test-runner-sections\">\n\n        <aside class=\"test-sidebar test-sidebar-left\">\n            <div class=\"panel-box\"></div>\n            <div class=\"navi-box\"></div>\n        </aside>\n\n        <section class=\"content-wrapper\">\n            <div class=\"item-tool\"></div>\n            <div class=\"item-content\">\n                <div id=\"qti-content\"></div>\n            </div>\n        </section>\n    </div>\n\n    <nav class=\"action-bar content-action-bar horizontal-action-bar bottom-action-bar\">\n        <div class=\"control-box size-wrapper\">\n            <div class=\"lft tools-box\"></div>\n            <div class=\"rgt navi-box\">\n                <ul class=\"plain navi-box-list\"></ul>\n            </div>\n        </div>\n    </nav>\n</main>",buffer})}),define("ltiTestReview/review/provider/qtiTestReviewProvider",["jquery","lodash","taoTests/runner/areaBroker","taoTests/runner/proxy","taoTests/runner/testStore","taoQtiTest/runner/helpers/map","taoQtiTest/runner/ui/toolbox/toolbox","taoQtiItem/runner/qtiItemRunner","taoQtiTest/runner/config/assetManager","taoQtiTest/runner/services/sequenceStore","ltiTestReview/review/services/navigator","tpl!ltiTestReview/review/provider/tpl/qtiTestReviewProvider"],function($,_,areaBrokerFactory,proxyFactory,testStoreFactory,mapHelper,toolboxFactory,qtiItemRunner,assetManagerFactory,sequenceStoreService,testNavigatorFactory,layoutTpl){"use strict";const{getSequenceNumber,getSequenceStore}=sequenceStoreService;return{name:"qtiTestReviewProvider",loadTestStore(){const config=this.getConfig(),identifier=config.serviceCallId||`test-${Date.now()}`;return testStoreFactory(identifier)},install(){var _this=this;const defaultSetTestMap=this.setTestMap;this.setTestMap=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];const result=defaultSetTestMap.apply(_this,args);return _this.trigger("testmapchange",_this.getTestMap()),result};const{plugins}=this.getConfig().options||{};plugins&&_.forEach(this.getPlugins(),plugin=>{if(_.isPlainObject(plugin)&&_.isFunction(plugin.setConfig)){const config=plugins[plugin.getName()];_.isPlainObject(config)&&plugin.setConfig(config)}})},loadAreaBroker(){const $layout=$(layoutTpl());return areaBrokerFactory($layout,{contentWrapper:$(".content-wrapper",$layout),itemTool:$(".item-tool",$layout),content:$("#qti-content",$layout),toolbox:$(".bottom-action-bar .tools-box",$layout),navigation:$(".test-sidebar-left .navi-box",$layout),control:$(".top-action-bar .control-box",$layout),actionsBar:$(".bottom-action-bar .control-box",$layout),panel:$(".test-sidebar-left .panel-box",$layout),header:$(".top-action-bar .tools-box",$layout),context:$(".top-action-bar .navi-box-list",$layout),sidebar:$(".test-sidebar-left",$layout)})},loadProxy(){const{proxyProvider,serviceCallId,bootstrap,timeout}=this.getConfig();return proxyFactory(proxyProvider||"qtiTestReviewProxy",{serviceCallId,bootstrap,timeout})},init(){const dataHolder=this.getDataHolder(),areaBroker=this.getAreaBroker(),load=()=>{const testContext=this.getTestContext();testContext&&testContext.itemIdentifier&&this.loadItem(testContext.itemIdentifier)};areaBroker.setComponent("toolbox",toolboxFactory()),areaBroker.getToolbox().init(),this.assetManager=assetManagerFactory();const createJumplinks=container=>{container.on("click",e=>{if(e.target.classList.contains("jumplink")){e.preventDefault(),e.target.blur();const where=e.target.dataset.area;areaBroker.getArea(where).find(":not(.hidden)[tabindex]").first().focus()}}),container.on("focusin",e=>{if(e.target.classList.contains("jumplink")){const where=e.target.dataset.area;areaBroker.getArea(where).addClass("focused")}}),container.on("focusout",e=>{if(e.target.classList.contains("jumplink")){const where=e.target.dataset.area;areaBroker.getArea(where).removeClass("focused")}})};return createJumplinks(areaBroker.getContainer().find(".jumplinks")),this.on("ready",()=>{load()}).on("loaditem",(itemRef,itemData)=>{dataHolder.set("itemIdentifier",itemRef),dataHolder.set("itemData",itemData)}).on("renderitem",()=>{this.trigger("enabletools enablenav")}).on("move",function(direction,scope,ref){const testContext=this.getTestContext(),testMap=this.getTestMap(),testNavigator=testNavigatorFactory(testContext,testMap),newTestContext=testNavigator.navigate(direction,scope||"item",ref);this.unloadItem(testContext.itemIdentifier),this.setTestContext(newTestContext)}).on("unloaditem",()=>{load()}).on("resumeitem",()=>{this.trigger("enableitem enablenav")}).on("disableitem",()=>{this.trigger("disabletools")}).on("enableitem",()=>{this.trigger("enabletools")}).on("error",()=>{this.trigger("disabletools enablenav")}).on("finish leave",()=>{this.trigger("disablenav disabletools"),this.flush()}).on("flush",()=>{this.destroy()}),this.getProxy().init().then(data=>(data.testMap&&_.isEmpty(mapHelper.getJumps(data.testMap))&&mapHelper.createJumpTable(data.testMap),dataHolder.set("testMap",data.testMap),dataHolder.set("testContext",data.testContext),dataHolder.set("testData",data.testData),dataHolder.set("testResponses",data.testResponses),Promise.all([getSequenceNumber(this),getSequenceStore()]).then(_ref=>{let[sequenceNumber,sequenceStore]=_ref;return sequenceStore.setSequenceNumber(sequenceNumber)}).then(()=>data)))},render(){const config=this.getConfig(),areaBroker=this.getAreaBroker();config.renderTo.append(areaBroker.getContainer()),areaBroker.getToolbox().render(areaBroker.getToolboxArea())},loadItem(itemIdentifier){return this.getProxy().getItem(itemIdentifier)},renderItem(itemIdentifier,itemData){const areaBroker=this.getAreaBroker(),changeState=()=>{this.setItemState(itemIdentifier,"changed",!0)};return new Promise((resolve,reject)=>{itemData.content=itemData.content||{};const view="reviewRenderer",assetManager=this.assetManager;assetManager.setData("baseUrl",itemData.baseUrl),assetManager.setData("itemIdentifier",itemIdentifier),assetManager.setData("assets",itemData.content.assets),this.itemRunner=qtiItemRunner(itemData.content.type,itemData.content.data,{assetManager,view:"reviewRenderer"}).on("warning",err=>this.trigger("warning",err)).on("error",err=>{this.trigger("enablenav"),reject(err)}).on("init",function onItemRunnerInit(){const{state,portableElements}=itemData;this.render(areaBroker.getContentArea(),{state,portableElements})}).on("render",function onItemRunnerRender(){this.on("responsechange",changeState),this.on("statechange",changeState),resolve()}).init()})},unloadItem(){return this.trigger("beforeunloaditem disablenav disabletools"),this.itemRunner?new Promise(resolve=>{this.itemRunner.on("clear",resolve).clear()}):Promise.resolve()},destroy(){const areaBroker=this.getAreaBroker();if(this.itemRunner&&this.itemRunner.clear(),this.itemRunner=null,areaBroker&&areaBroker.getToolbox().destroy(),this.getState("finish"))return this.getTestStore().remove()}}}),define("ltiTestReview/review/proxy/qtiTestReviewProxy",["lodash","core/promiseQueue","core/request","core/communicator","ltiTestReview/review/config/qtiTestReviewConfig"],function(_,promiseQueue,coreRequest,communicatorFactory,configFactory){"use strict";return{name:"qtiTestReviewProxy",install(){this.queue=promiseQueue(),this.request=(url,reqParams,contentType,noToken)=>coreRequest({url:url,data:reqParams,method:reqParams?"POST":"GET",contentType:contentType,noToken:noToken,background:!1,sequential:!0,timeout:this.configStorage.getTimeout()}).then(response=>(this.setOnline(),response&&response.success?Promise.resolve(response):Promise.reject(response))).catch(error=>(error.data&&this.isConnectivityError(error.data)&&this.setOffline("request"),Promise.reject(error)))},init(config,params){return this.configStorage=configFactory(config||{}),this.request(this.configStorage.getTestActionUrl("init"),params,void 0,!0)},destroy(){return this.configStorage=null,this.queue=null,Promise.resolve()},callTestAction(action,params){return this.request(this.configStorage.getTestActionUrl(action),params)},callItemAction(itemIdentifier,action,params){return this.request(this.configStorage.getItemActionUrl(itemIdentifier,action),params)},getItem(itemIdentifier,params){return this.request(this.configStorage.getItemActionUrl(itemIdentifier,"getItem"),params,void 0,!0)},loadCommunicator(){const config=this.configStorage.getCommunicationConfig();return config.enabled&&communicatorFactory(config.type,config.params),null}}}),function(c){var d=document,a="appendChild",i="styleSheet",s=d.createElement("style");s.type="text/css",d.getElementsByTagName("head")[0].appendChild(s),s.styleSheet?s.styleSheet.cssText=c:s.appendChild(d.createTextNode(c))}(".previewer-component{background:inherit}.previewer-component.fullpage{position:absolute;top:0;left:0;right:0;bottom:0;z-index:100000;background:#fff}.previewer-component.fullpage .test-review-scope{height:100vh}.previewer-component.readonly .qti-item::before{content:none;display:none}\n\n/*# sourceMappingURL=ltiTestReview/review/component/css/qtiTestReviewComponent.css.map */@-o-keyframes loadingbar{0%{left:-10%}50%{left:90%}100%{left:-10%}}@-moz-keyframes loadingbar{0%{left:-10%}50%{left:90%}100%{left:-10%}}@-webkit-keyframes loadingbar{0%{left:-10%}50%{left:90%}100%{left:-10%}}@keyframes loadingbar{0%{left:-10%}50%{left:90%}100%{left:-10%}}.loading-bar{height:6px;position:absolute;width:100%;top:0px;display:none;z-index:10000;cursor:progress}.loading-bar.fixed{position:fixed;width:100%}.loading-bar.fixed:before{top:0 !important}.loading-bar.loading{display:block;overflow:hidden;top:58px}.loading-bar.loading:before{position:absolute;content:\"\";height:6px;width:20%;display:block;transform:translateZ(0);background:-webkit-linear-gradient(to right, transparent 0%, rgb(195, 90, 19) 20%, rgb(195, 90, 19) 80%, transparent 100%);background:-moz-linear-gradient(to right, transparent 0%, rgb(195, 90, 19) 20%, rgb(195, 90, 19) 80%, transparent 100%);background:-ms-linear-gradient(to right, transparent 0%, rgb(195, 90, 19) 20%, rgb(195, 90, 19) 80%, transparent 100%);background:-o-linear-gradient(to right, transparent 0%, rgb(195, 90, 19) 20%, rgb(195, 90, 19) 80%, transparent 100%);background:linear-gradient(to right, transparent 0%, rgb(195, 90, 19) 20%, rgb(195, 90, 19) 80%, transparent 100%);-webkit-animation:loadingbar 5s linear infinite;-moz-animation:loadingbar 5s linear infinite;-ms-animation:loadingbar 5s linear infinite;-o-animation:loadingbar 5s linear infinite;animation:loadingbar 5s linear infinite}.loading-bar.loading.loadingbar-covered{top:0px;overflow-y:visible}.loading-bar.loading.loadingbar-covered:before{top:86px}.no-version-warning .loading-bar.loadingbar-covered:before{top:58px}.action-bar{background:#266d9c;padding:3px;overflow:hidden;color:#e7eff4}.action-bar li{float:left}.action-bar li .li-inner{padding-bottom:1px;text-decoration:none !important;outline:0;display:inline-block;color:inherit}.action-bar li .li-inner:hover{color:#fff}.action-bar li span.glyph{text-shadow:0 0 0 rgba(0,0,0,0);color:inherit}.action-bar li input{width:100%;font-size:12px;font-size:1.2rem;padding:2px 4px}.action-bar li.active .li-inner{color:#fff}.action-bar.horizontal-action-bar{padding:5px;height:35px}.action-bar.horizontal-action-bar .search-area{margin:2px 0 0 0;border:none;float:right;display:inline-block;position:relative}.action-bar.horizontal-action-bar .search-area input{padding-right:34px;min-width:250px !important}.action-bar.horizontal-action-bar .search-area .search-area-buttons-container{position:absolute;top:0;right:0}.action-bar.horizontal-action-bar .search-area .search-area-buttons-container .icon-ul{display:none}.action-bar.horizontal-action-bar .search-area .search-area-buttons-container.has-results-counter{right:5px}.action-bar.horizontal-action-bar .search-area .search-area-buttons-container.has-results-counter .icon-ul{display:initial}.action-bar.horizontal-action-bar .search-area .icon-find,.action-bar.horizontal-action-bar .search-area .icon-ul{cursor:pointer;background:rgba(0,0,0,0);height:19px;margin:1px 0;border:1px dashed rgba(0,0,0,0)}.action-bar.horizontal-action-bar .search-area .icon-find::before,.action-bar.horizontal-action-bar .search-area .icon-ul::before{color:#333;vertical-align:top}.action-bar.horizontal-action-bar .search-area .icon-find:focus,.action-bar.horizontal-action-bar .search-area .icon-ul:focus{outline:none;border-color:#333}.action-bar.horizontal-action-bar .search-area .icon-help{position:absolute;right:5px;top:-1px;text-shadow:0 0 rgba(0,0,0,0);color:#fff;cursor:pointer;display:block;width:24px;height:24px;line-height:24px;text-align:center}.action-bar.horizontal-action-bar .search-area .icon-find{padding:0;width:25px}.action-bar.horizontal-action-bar .search-area .icon-ul{margin-left:4px;padding:0 2px 0 4px;position:relative}.action-bar.horizontal-action-bar .search-area .icon-ul::after{content:\"\";position:absolute;left:-5px;top:2px;bottom:2px;border-left:1px solid #ada194}.action-bar.horizontal-action-bar .search-area .icon-ul .results-counter{color:#333;margin-left:5px;display:inline;vertical-align:top;line-height:14px;font-family:\"Source Sans Pro\",sans-serif}.action-bar.horizontal-action-bar li{margin:0 1px;border:1px rgba(0,0,0,0) solid;text-align:center;float:left}.action-bar.horizontal-action-bar li .glyph{width:14px}.action-bar.horizontal-action-bar li .svg-glyph{height:14px;width:14px;margin-right:9px}.action-bar.horizontal-action-bar li.btn-info{overflow:hidden;background:rgba(0,0,0,0)}.action-bar.horizontal-action-bar li.btn-info:hover,.action-bar.horizontal-action-bar li.btn-info.active{border-color:rgba(255,255,255,.3);opacity:1}.action-bar.horizontal-action-bar li.disabled{background:none !important;text-shadow:inherit !important;opacity:.45 !important;color:inherit !important}.action-bar.horizontal-action-bar li.disabled a{cursor:not-allowed !important}.action-bar.vertical-action-bar li{max-height:60px}.action-bar.vertical-action-bar li .li-inner{height:60px;display:block;overflow:hidden;text-overflow:ellipsis;text-align:center;font-size:12px;font-size:1.2rem;line-height:12px}.action-bar.vertical-action-bar li .glyph{display:block;margin:12px auto 3px;width:20px;height:20px}.action-bar.tree-action-bar{background:#f3f1ef;position:relative;left:-1px;padding:0;margin:0 1.9323671498% 8px 1.9323671498%;width:96.3768115942%;font-size:13px;font-size:1.3rem}.action-bar.tree-action-bar li{background:rgba(255,255,255,.5);border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;line-height:1.3;padding:0;text-align:center;float:left;width:65px;height:65px;margin:0 1px 1px 0}.action-bar.tree-action-bar li .glyph,.action-bar.tree-action-bar li .svg-glyph{display:block;color:#0e5d91;margin:12px auto 1px !important}.action-bar.tree-action-bar li .svg-glyph{width:20px;height:20px}.action-bar.tree-action-bar li .glyph{font-size:17px !important;font-size:1.7rem !important}.action-bar.tree-action-bar li .li-inner{display:block;height:65px;padding:2px;font-size:11px;font-size:1.1rem;color:#222}.action-bar.tree-action-bar li:hover{background:#ddd;color:#666}.action-bar .tree-filters{width:160px;position:relative}.action-bar .tree-filters input{padding-right:24px}.action-bar .tree-filters span{position:absolute;right:3px;color:#555;width:22px;top:2px;line-height:20px;display:inline-block;text-align:center;text-shadow:0 0 0 rgba(0,0,0,0);border-left:1px solid #ddd;cursor:pointer}.action-bar .tree-filters span.icon-close{display:none}.action-bar .tree-filters span:hover{color:#0e5d91}@media(max-width: 1150px){.action-bar.horizontal-action-bar .search-area{float:none;position:absolute;right:0}.action-bar.horizontal-action-bar .search-area input{padding-right:30px;min-width:auto !important;width:150px}.action-bar.horizontal-action-bar .search-area input:focus{width:220px}}body.oversized-nav:not(.delivery-scope) .action-bar.horizontal-action-bar .search-area{float:none;position:absolute;right:0}body.oversized-nav:not(.delivery-scope) .action-bar.horizontal-action-bar .search-area input{padding-right:30px;min-width:auto !important;width:150px}body.oversized-nav:not(.delivery-scope) .action-bar.horizontal-action-bar .search-area input:focus{width:220px}.section-container{top:0 !important}.section-container .flex-container-full{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 100%;-webkit-flex:0 0 100%;flex:0 0 100%}.section-container .flex-container-half{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 50%;-webkit-flex:0 0 50%;flex:0 0 50%}.section-container .flex-container-third{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 33.3333333333%;-webkit-flex:0 0 33.3333333333%;flex:0 0 33.3333333333%}.section-container .flex-container-quarter{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 25%;-webkit-flex:0 0 25%;flex:0 0 25%}.section-container .flex-container-remaining{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:1 1 480px;-webkit-flex:1 1 480px;flex:1 1 480px}.section-container .flex-container-main-form{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 500px;-webkit-flex:0 0 500px;flex:0 0 500px;margin:0 20px 20px 0;width:100%}.section-container .flex-container-main-form .form-content{max-width:100%}.section-container .flex-container-navi{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 414px;-webkit-flex:0 0 414px;flex:0 0 414px}.section-container .section-header{border:none}.section-container .content-panel{width:100%;height:100%;margin:0;padding:0;border:none !important;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-content:flex-start;align-content:flex-start;-webkit-align-items:stretch;align-items:stretch}.section-container .tab-container{border:none;display:none;list-style-type:none;padding:0;margin:0}.section-container .tab-container li{float:left;position:relative;top:0;padding:0;margin:0 1px 0px 0;border-top:1px solid #f3f1ef !important;border-bottom:1px solid #f3f1ef !important;background:#f3f1ef !important}.section-container .tab-container li a{top:0 !important;margin-bottom:0 !important;padding:6px 16px;text-decoration:none;min-height:32px;color:#222;float:left}.section-container .tab-container li.active,.section-container .tab-container li:hover{border-bottom-color:#4a86ad !important;border-top-color:#6e9ebd !important;background:#266d9c !important}.section-container .tab-container li.active a,.section-container .tab-container li:hover a{background:rgba(0,0,0,0) !important;border-color:rgba(0,0,0,0) !important;color:#fff !important;text-shadow:1px 1px 0 rgba(0,0,0,.2)}.section-container .tab-container li.disabled:hover{background:#f3f1ef !important}.section-container .tab-container li.disabled:hover a{cursor:not-allowed !important;color:#222 !important}.section-container .navi-container{display:none;background:#f3f1ef;-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 414px;-webkit-flex:0 0 414px;flex:0 0 414px;border-right:1px #ddd solid}.section-container .navi-container .block-title{font-size:14px;font-size:1.4rem;padding:2px 8px;margin:0}.section-container .navi-container .tree-action-bar-box{margin:10px 0;opacity:0}.section-container .navi-container .tree-action-bar-box.active{opacity:1;-webkit-opacity:0.25s ease-in-out;-moz-opacity:0.25s ease-in-out;opacity:0.25s ease-in-out}.section-container .content-container{border:none;-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto;-ms-flex:1 1;-webkit-flex:1 1;flex:1 1;max-width:100%}.section-container .navi-container+.content-container{max-width:calc(100% - 414px)}.section-container .content-block{padding:20px;overflow-y:auto;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-content:flex-start;align-content:flex-start;-webkit-align-items:stretch;align-items:stretch}.section-container .content-block>.grid-container{width:100%}.section-container .content-block .data-container-wrapper{padding:0px 20px 0 0}.section-container .content-block .data-container-wrapper:before,.section-container .content-block .data-container-wrapper:after{content:\" \";display:table}.section-container .content-block .data-container-wrapper:after{clear:both}.section-container .content-block .data-container-wrapper>section,.section-container .content-block .data-container-wrapper .data-container{width:260px;margin:0 20px 20px 0;float:left;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px}.section-container .content-block .data-container-wrapper>section.double,.section-container .content-block .data-container-wrapper .data-container.double{width:540px}.section-container .content-block .data-container-wrapper>section .emptyContentFooter,.section-container .content-block .data-container-wrapper .data-container .emptyContentFooter{display:none}.section-container .content-block .data-container-wrapper>section .tree,.section-container .content-block .data-container-wrapper .data-container .tree{border:none;max-width:none;max-height:none}.section-container .content-block .data-container-wrapper>section form,.section-container .content-block .data-container-wrapper .data-container form{background:none;border:none;margin:0;padding:0}.section-container .content-block .data-container-wrapper>section>header,.section-container .content-block .data-container-wrapper>section .ui-widget-header,.section-container .content-block .data-container-wrapper .data-container>header,.section-container .content-block .data-container-wrapper .data-container .ui-widget-header{background:#f3f1ef;border-width:0px !important;border-bottom:1px #ddd solid !important}.section-container .content-block .data-container-wrapper>section>header h1,.section-container .content-block .data-container-wrapper>section>header h6,.section-container .content-block .data-container-wrapper>section .ui-widget-header h1,.section-container .content-block .data-container-wrapper>section .ui-widget-header h6,.section-container .content-block .data-container-wrapper .data-container>header h1,.section-container .content-block .data-container-wrapper .data-container>header h6,.section-container .content-block .data-container-wrapper .data-container .ui-widget-header h1,.section-container .content-block .data-container-wrapper .data-container .ui-widget-header h6{padding:4px;margin:0;font-size:14px;font-size:1.4rem}.section-container .content-block .data-container-wrapper>section>div,.section-container .content-block .data-container-wrapper>section .ui-widget-content,.section-container .content-block .data-container-wrapper>section .container-content,.section-container .content-block .data-container-wrapper .data-container>div,.section-container .content-block .data-container-wrapper .data-container .ui-widget-content,.section-container .content-block .data-container-wrapper .data-container .container-content{border-width:0px !important;overflow-y:auto;min-height:250px;padding:5px}.section-container .content-block .data-container-wrapper>section>div .icon-grip,.section-container .content-block .data-container-wrapper>section .ui-widget-content .icon-grip,.section-container .content-block .data-container-wrapper>section .container-content .icon-grip,.section-container .content-block .data-container-wrapper .data-container>div .icon-grip,.section-container .content-block .data-container-wrapper .data-container .ui-widget-content .icon-grip,.section-container .content-block .data-container-wrapper .data-container .container-content .icon-grip{cursor:move}.section-container .content-block .data-container-wrapper>section>footer,.section-container .content-block .data-container-wrapper .data-container>footer{min-height:33px}.section-container .content-block .data-container-wrapper>section>footer,.section-container .content-block .data-container-wrapper>section .data-container-footer,.section-container .content-block .data-container-wrapper .data-container>footer,.section-container .content-block .data-container-wrapper .data-container .data-container-footer{background:#f3f1ef;text-align:right !important;padding:4px;border-width:0px !important;border-top:1px #ddd solid !important}.section-container .content-block .data-container-wrapper>section>footer .square,.section-container .content-block .data-container-wrapper>section .data-container-footer .square,.section-container .content-block .data-container-wrapper .data-container>footer .square,.section-container .content-block .data-container-wrapper .data-container .data-container-footer .square{width:28px}.section-container .content-block .data-container-wrapper>section>footer .square span,.section-container .content-block .data-container-wrapper>section .data-container-footer .square span,.section-container .content-block .data-container-wrapper .data-container>footer .square span,.section-container .content-block .data-container-wrapper .data-container .data-container-footer .square span{padding:0;left:0}.section-container .content-block .data-container-wrapper>section ol,.section-container .content-block .data-container-wrapper .data-container ol{margin:0 0 0 15px;padding:10px}.section-container .content-block #form-container.ui-widget-content{border:none !important}.section-container .content-block form:not(.list-container){border:1px #ddd solid;background:#f3f1ef;padding:30px;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px}.section-container .content-block [class^=btn-],.section-container .content-block [class*=\" btn-\"]{margin:0 2px}.test-review-scope{position:relative;display:flex;flex-direction:column;height:calc(100vh - 99px)}.test-review-scope .test-runner-sections{flex:1 1 0;overflow:hidden;display:flex;flex-direction:row}.test-review-scope .test-sidebar{background:#f3f1ef;flex:0 1 auto;overflow-y:auto;display:flex;flex-direction:column;justify-content:flex-start;max-width:300px;min-width:300px}.test-review-scope .test-sidebar>*{width:299px}@media only screen and (max-device-width: 800px){.test-review-scope .test-sidebar{max-width:200px;min-width:200px}.test-review-scope .test-sidebar>*{width:199px}}@media only screen and (min-device-width: 800px)and (max-device-width: 1280px){.test-review-scope .test-sidebar{max-width:250px;min-width:250px}.test-review-scope .test-sidebar>*{width:249px}}.test-review-scope .test-sidebar .panel-box{flex:1 1 auto;overflow:hidden}.test-review-scope .test-sidebar-left{border-right:1px #ddd solid}.test-review-scope .test-sidebar-right{border-left:1px #ddd solid}.test-review-scope .content-wrapper{position:relative;flex:1 1 0;display:flex;flex-direction:column;height:100%;padding:30px 30px 0 30px}@media only screen and (max-device-width: 800px){.test-review-scope .content-wrapper{max-width:calc(100% - 200px)}}@media only screen and (min-device-width: 800px)and (max-device-width: 1280px){.test-review-scope .content-wrapper{max-width:calc(100% - 250px)}}.test-review-scope .content-wrapper .item-tool{flex:0 0 auto}.test-review-scope .content-wrapper .item-content{flex:1 1 auto;overflow:auto;width:100%}.test-review-scope .content-wrapper .overlay{position:absolute;left:0;right:0;top:0;bottom:0;width:100%;opacity:.9}.test-review-scope .content-wrapper .overlay-full{background-color:#fff;opacity:1}.test-review-scope #qti-content,.test-review-scope .item-tool{-webkit-overflow-scrolling:touch;margin:auto;max-width:1024px;width:100%}.test-review-scope #qti-item{width:100%;min-width:100%;height:auto;overflow:visible}.test-review-scope .qti-item{padding:0 0 30px 0}.test-review-scope .size-wrapper{margin:auto;max-width:1280px;width:100%}.test-review-scope #qti-rubrics{margin:auto;max-width:1024px;width:100%}.test-review-scope #qti-rubrics .qti-rubricBlock{margin:20px 0}.test-review-scope #qti-rubrics .hidden{display:none}.test-review-scope .jumplink{position:fixed;left:-9999px;background-color:#fff;color:#222;text-decoration:underline;outline:none;box-shadow:inset 0 0 0px 3px #0e5d91;height:calc(5px + 105px);width:340px;display:flex;justify-content:center;align-items:center}.test-review-scope .jumplink:focus{visibility:visible;top:0px;left:0px;z-index:1000;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.test-review-scope a[tabindex]:focus,.test-review-scope .focused{box-shadow:inset 0 0 0px 3px #0e5d91}.no-controls .test-review-scope{height:100vh}\n\n/*# sourceMappingURL=ltiTestReview/review/provider/css/qtiTestReviewProvider.css.map */.item-answer{position:relative;display:flex;flex-direction:column;background-color:#fff}.item-answer .item-answer-bar{position:relative;display:flex;flex-direction:row;align-content:stretch;align-items:flex-end;height:44px}.item-answer .item-answer-tabs{position:relative;flex:0 0 auto;height:100%}.item-answer .item-answer-tabs .answer-tabs{list-style:none;padding:0;margin:0;display:inline-flex;flex-direction:row;flex-wrap:nowrap;height:100%}.item-answer .item-answer-tabs .answer-tabs .tab{border-top:2px solid #fff;border-bottom:2px solid #0e5d91;padding:0;margin:0;height:100%}.item-answer .item-answer-tabs .answer-tabs .tab .action{border-radius:0;padding:5px 15px;font-weight:bold;text-transform:uppercase;display:flex;align-items:center;height:100%;min-width:200px;background-color:#f3f1ef;color:#222;text-shadow:none}.item-answer .item-answer-tabs .answer-tabs .tab .action .icon{display:inline-block;font-size:2.5rem;font-weight:bold;padding:0}.item-answer .item-answer-tabs .answer-tabs .tab .action .label{padding-top:5px;display:inline-block;text-align:center;flex:1 1 auto}.item-answer .item-answer-tabs .answer-tabs .tab.active{border:2px solid #0e5d91;border-bottom:0 none}.item-answer .item-answer-tabs .answer-tabs .tab.active:last-child:first-child{border:0 none;border-top:2px solid #fff;border-bottom:2px solid #0e5d91}.item-answer .item-answer-tabs .answer-tabs .tab.active .action{color:#222;background-color:#fff}.item-answer .item-answer-score{position:relative;flex:1 0 auto;text-align:right;font-weight:bold;padding:10px 5px;border-bottom:2px solid #0e5d91}.item-answer .item-answer-status{position:relative;height:40px;line-height:20px;font-weight:bold;padding-top:10px;text-transform:uppercase;color:#950e22}.item-answer .icon-correct:before{content:\"\uE69F\"}.item-answer .icon-incorrect:before{content:\"\uE69E\"}.item-answer .icon-answered:before{content:\"\uE69A\"}.item-answer .icon-skipped:before{content:\"\uE6A5\"}.item-answer .icon-informational:before{content:\"\uE63A\"}.item-answer:not(.show-correct):not(.show-score) .item-answer-bar{display:none}.item-answer:not(.show-score) .item-answer-bar .item-answer-tabs .answer-tabs .tab .icon:not(.icon-informational){display:none}.item-answer.show-correct.correct .icon{color:#0b743c}.item-answer.show-correct.incorrect .icon,.item-answer.show-correct.skipped .icon{color:#950e22}.item-answer.show-correct.pending .icon{color:#6e6e6e}.item-answer.show-correct.partial .icon{color:#ad5700}.item-answer.disabled,.item-answer button[disabled]{background-color:inherit !important}.item-answer :focus{outline:0 none}.item-answer:not(.disabled) .navigable{position:relative}.item-answer:not(.disabled) .navigable:focus{outline:3px solid #0e5d91;outline-offset:-1px}.item-answer:not(.disabled) li.active .navigable:focus{outline-offset:-2px}\n\n/*# sourceMappingURL=ltiTestReview/review/plugins/content/item-answer/css/item-answer.css.map */.next-prev{margin:10px;display:flex;flex-direction:row-reverse;align-content:stretch}.next-prev .action{border-radius:0;text-transform:uppercase;flex:1 0 auto;margin-right:4px;height:36px;line-height:36px}.next-prev .action.right{margin-right:0}.next-prev .action.no-label{flex:0 0 auto}.next-prev .action.no-label .icon{padding:0}.next-prev .action.right .icon{float:right;display:block;margin-left:10px;width:10px}.next-prev .action .icon{height:36px;line-height:36px;font-size:2rem}.next-prev :focus{outline:0 none}.next-prev:not(.disabled) .action{position:relative}.next-prev:not(.disabled) .action:focus::after{content:\" \";position:absolute;top:-4px;left:-4px;bottom:-4px;right:-4px;border:3px solid #0e5d91}\n\n/*# sourceMappingURL=ltiTestReview/review/plugins/navigation/next-prev/css/buttons.css.map */.review-panel.accordion{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;color:#222;position:relative;display:flex;flex-direction:column;justify-content:flex-start;cursor:default;width:100%;height:100%;padding:10px}.review-panel.accordion .review-panel-label{display:block;white-space:nowrap}.review-panel.accordion .review-panel-score{display:block;white-space:nowrap}.review-panel.accordion .collapsible>.review-panel-label{cursor:pointer;width:100%;line-height:3rem;padding:0 8px;font-size:1.5rem}.review-panel.accordion .collapsible>.review-panel-label .collapsible-arrow::before{font-family:\"tao\" !important;speak:never;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:\"\uE611\";line-height:inherit;float:right}.review-panel.accordion .collapsible>.review-panel-block{display:none}.review-panel.accordion .collapsible.expanded>.review-panel-label .collapsible-arrow::before{content:\"\uE610\"}.review-panel.accordion .collapsible.expanded>.review-panel-block{display:block}.review-panel.accordion.disabled .review-panel-filters .review-panel-filter{cursor:not-allowed}.review-panel.accordion.disabled .collapsible>.review-panel-label{cursor:not-allowed}.review-panel.accordion.disabled .review-panel-item{cursor:not-allowed}.review-panel.accordion :focus{outline:0 none}.review-panel.accordion:not(.disabled) .navigable{position:relative}.review-panel.accordion:not(.disabled) .navigable:focus:after{content:\" \";position:absolute;top:0px;left:0px;bottom:0px;right:0px;border:3px solid #0e5d91;z-index:100}.review-panel.accordion:not(.disabled) .review-panel-filters .review-panel-filter:focus:after{top:-5px;left:-5px;bottom:-5px;right:-5px}.review-panel.accordion .review-panel-header{display:flex;flex-direction:row;justify-content:space-between;padding:5px 8px;background-color:#d4d5d7;color:#222}.review-panel.accordion .review-panel-header .review-panel-label{font-size:1.5rem;font-weight:600}.review-panel.accordion .review-panel-header .review-panel-score{font-size:1.5rem;font-weight:bold}.review-panel.accordion .review-panel-footer{display:flex;flex-direction:row;justify-content:space-between;padding:5px 8px;background-color:#f3f1ef;color:#222}.review-panel.accordion .review-panel-footer .review-panel-label{font-size:1.4rem;padding-left:30px}.review-panel.accordion .review-panel-footer .review-panel-score{font-size:1.2rem}.review-panel.accordion .review-panel-filters{display:flex;flex-direction:row;justify-content:space-evenly;padding:3rem 0 1rem 0}.review-panel.accordion .review-panel-filters .review-panel-filter{display:block;border-bottom:1px solid rgba(0,0,0,0);cursor:pointer;padding:0 8px}.review-panel.accordion .review-panel-filters .review-panel-filter.active{border-bottom:1px solid #222}.review-panel.accordion .review-panel-filters .review-panel-filter .review-panel-label{font-size:1.4rem;font-weight:bold}.review-panel.accordion .review-panel-content{flex:0 1 auto;overflow-y:auto}.review-panel.accordion .review-panel-part{margin-top:1px}.review-panel.accordion .review-panel-part>.review-panel-label{background-color:#dddfe2}.review-panel.accordion .review-panel-part>.review-panel-label:hover{background-color:#c6cacf}.review-panel.accordion .review-panel-part.active>.review-panel-label{background-color:#c0c4ca}.review-panel.accordion .review-panel-section>.review-panel-label{background-color:#efecea;border-bottom:1px solid #fff}.review-panel.accordion .review-panel-section>.review-panel-label:hover{background-color:#ebe8e4}.review-panel.accordion .review-panel-section.active>.review-panel-label{background-color:#ded9d4}.review-panel.accordion .review-panel-item{display:flex;flex-direction:row;justify-content:space-between;background:#fff;cursor:pointer;line-height:3rem;padding:0 8px;margin:1px 0}.review-panel.accordion .review-panel-item .review-panel-label{flex:1 1 auto;width:calc(100% - 30px);text-align:left;overflow:hidden;text-overflow:ellipsis}.review-panel.accordion .review-panel-item .review-panel-score{flex:0 0 auto;width:30px;text-align:right}.review-panel.accordion .review-panel-item:first-child{margin-top:0}.review-panel.accordion .review-panel-item.active{background:#f4f7f8}.review-panel.accordion .review-panel-item:hover{background:#eef3f5}.review-panel.accordion .review-panel-item .review-panel-label{font-size:1.4rem}.review-panel.accordion .review-panel-item .review-panel-score{font-size:1.2rem}.review-panel.accordion .review-panel-item .review-panel-label:before{font-family:\"tao\" !important;speak:never;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:\" \";display:inline-block;text-align:right;color:#ada194;width:30px;padding-right:5px;line-height:inherit}.review-panel.accordion .review-panel-item.item-info .review-panel-label:before{content:\"\uE63A\"}.review-panel.accordion .review-panel-item.item-skipped .review-panel-label:before{content:\"\uE6A5\"}.review-panel.accordion .review-panel-item.item-default .review-panel-label:before{content:\"\uE69A\"}.review-panel.accordion .review-panel-item.item-correct .review-panel-label:before{content:\"\uE69F\";color:#0e914b}.review-panel.accordion .review-panel-item.item-incorrect .review-panel-label:before{content:\"\uE69E\";color:#ba122b}.review-panel.accordion .review-panel-item.item-score-pending .review-panel-label:before{content:\"\uE633\";color:#6e6e6e}.review-panel.accordion .review-panel-item.item-score-partial .review-panel-label:before{content:\"\uE91A\";color:#ad5700}\n\n/*# sourceMappingURL=ltiTestReview/review/plugins/navigation/review-panel/css/accordion-panel.css.map */.review-panel.fizzy{color:#222;position:relative;display:flex;flex-direction:column;justify-content:flex-start;cursor:default;width:100%;height:100%;padding:0 1rem}.review-panel.fizzy .review-panel-label{display:block;white-space:nowrap}.review-panel.fizzy .review-panel-score{display:block;white-space:nowrap}.review-panel.fizzy .review-panel-header .review-panel-title{font-size:2rem;font-weight:bold;border-bottom:1px solid #cec7bf;margin:2rem 1rem 0 1rem;padding:.4rem 0 .8rem 0}.review-panel.fizzy .review-panel-header .review-panel-score-header{display:flex;flex-direction:row;justify-content:space-between;padding:.7rem 1rem;color:#222;font-size:1.4rem;font-weight:bold}.review-panel.fizzy .review-panel-content{flex:1 1 auto;overflow-y:auto}.review-panel.fizzy .review-panel-content .review-panel-sections{padding:0 0 4rem 0;list-style:none}.review-panel.fizzy .review-panel-content .review-panel-sections .review-panel-label{font-size:1.6rem;margin:1.5rem 1rem 1rem 1rem;display:block}.review-panel.fizzy .review-panel-footer{display:flex;flex-direction:row;justify-content:space-between;padding:.8rem 1rem 0 1rem;color:#222;font-size:1.4rem;font-weight:bold}.review-panel.fizzy .review-panel-footer .review-panel-label{padding:0}\n\n/*# sourceMappingURL=ltiTestReview/review/plugins/navigation/review-panel/css/fizzy-panel.css.map */"),define("ltiTestReview/loader/ltiTestReview.bundle",function(){}),define("ltiTestReview/loader/ltiTestReview.min",["taoItems/loader/taoItemsRunner.min","taoTests/loader/taoTestsRunner.min","taoQtiItem/loader/taoQtiItemRunner.min","taoQtiTest/loader/taoQtiTestRunner.min","taoQtiTest/loader/testPlugins.min","taoQtiTestPreviewer/loader/qtiPreviewer.min"],function(){});
//# sourceMappingURL=ltiTestReview.min.js.map